<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥Šæ¢…ç²¾é¸ç‰©ä»¶ - æ–°éƒ½æ‚… & ä¸–ç´€ç¾å¦é›™é–‹ä¸‰æˆ¿è»Š | ä½å•†ä¸å‹•ç”¢</title>
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 1.2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: float 20s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translateX(-50px) translateY(-50px); }
            100% { transform: translateX(50px) translateY(50px); }
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }
        
        .urgent-banner {
            background: #e74c3c;
            color: white;
            padding: 0.5rem;
            text-align: center;
            font-weight: bold;
            font-size: 1rem;
            animation: pulse 2s infinite;
            margin-bottom: 0.8rem;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .properties-section {
            padding: 1.5rem 1.5rem;
            background: #f8f9fa;
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.2rem;
            margin-top: 2rem;
        }
        
        .property-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 1.2rem;
            box-shadow: 
                0 8px 25px rgba(0,0,0,0.12),
                0 4px 12px rgba(0,0,0,0.08),
                inset 0 1px 0 rgba(255,255,255,0.8);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(52, 152, 219, 0.2);
            background-clip: padding-box;
            height: 100%;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .property-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #2980b9, #3498db);
            border-radius: 15px 15px 0 0;
        }
        
        .property-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 
                0 20px 40px rgba(0,0,0,0.18),
                0 8px 20px rgba(52, 152, 219, 0.15),
                inset 0 1px 0 rgba(255,255,255,0.9);
            border-color: rgba(52, 152, 219, 0.4);
        }
        
        .property-title {
            font-size: 1.1rem;
            color: #2c3e50;
            margin-bottom: 0.6rem;
            margin-top: 0.2rem;
            border-bottom: 3px solid transparent;
            background: linear-gradient(90deg, #3498db, #2980b9) bottom/100% 3px no-repeat;
            padding-bottom: 0.4rem;
            line-height: 1.3;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        
        .property-title::before {
            content: 'ğŸ  ';
        }
        
        .price-highlight {
            font-size: 1.3rem;
            color: #e74c3c;
            font-weight: bold;
            margin: 0.8rem 0;
            text-align: center;
            background: linear-gradient(145deg, #fff5f5 0%, #ffe8e8 100%);
            padding: 1rem;
            border-radius: 12px;
            border: 1px solid rgba(239, 68, 68, 0.2);
            box-shadow: 
                0 4px 12px rgba(239, 68, 68, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .price-highlight::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ef4444, #dc2626, #ef4444);
            border-radius: 12px 12px 0 0;
        }
        
        .price-highlight span {
            font-size: 1.3rem;
        }
        
        .original-price {
            text-decoration: line-through;
            color: #7f8c8d;
            font-size: 1.2rem;
        }
        
        .features-list {
            list-style: none;
            margin: 0.8rem 0;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.3rem;
        }
        
        .features-list li {
            padding: 0.3rem 0;
            border-bottom: 1px solid #ecf0f1;
            position: relative;
            padding-left: 1.5rem;
            font-size: 0.85rem;
        }
        
        .features-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #27ae60;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .loan-info {
            background: linear-gradient(145deg, #27ae60 0%, #2ecc71 100%);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            margin: -0.2rem 0;
            text-align: center;
            box-shadow: 
                0 6px 20px rgba(39, 174, 96, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .loan-info::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #2ecc71, #27ae60, #2ecc71);
            border-radius: 12px 12px 0 0;
        }
        
        
        .contact-section {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .contact-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="rgba(255,215,0,0.1)"/><circle cx="80" cy="80" r="1" fill="rgba(255,215,0,0.1)"/><circle cx="60" cy="30" r="1" fill="rgba(255,215,0,0.1)"/></svg>') repeat;
            animation: sparkle 3s infinite linear;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }
        
        .contact-button {
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            color: #1a1a2e;
            padding: 1rem 2rem;
            border: 2px solid #ffd700;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 0.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
        }
        
        .contact-button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255,255,255,0.5) 50%, 
                transparent 70%);
            transform: rotate(45deg);
            transition: all 0.6s ease;
            opacity: 0;
        }
        
        .contact-button:hover::before {
            opacity: 1;
            animation: shine 1.5s ease-in-out infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .contact-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px rgba(255, 215, 0, 0.5);
            background: linear-gradient(45deg, #ffed4e, #ffd700, #ffed4e);
        }
        
        .schedule-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .schedule-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .schedule-table th,
        .schedule-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .schedule-table th {
            background: #3498db;
            color: white;
        }
        
        @media (max-width: 768px) {
            .properties-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8rem;
                line-height: 1.2;
            }
            
            .header p {
                font-size: 0.9rem;
            }
            
            .urgent-banner {
                font-size: 1rem;
                padding: 0.8rem;
            }
            
            .property-card {
                padding: 1.2rem;
                margin-bottom: 1rem;
            }
            
            .property-title {
                font-size: 1.2rem;
                line-height: 1.3;
            }
            
            .property-title::before {
                content: '';
            }
            
            .price-highlight {
                font-size: 1.1rem;
                line-height: 1.3;
            }
            
            .price-highlight span {
                font-size: 1.5rem !important;
            }
            
            .features-list li {
                font-size: 0.9rem;
                padding: 0.4rem 0;
                padding-left: 1.5rem;
            }
            
            .loan-info {
                font-size: 0.85rem;
                padding: 0.4rem 0.8rem;
                margin: -0.1rem 0;
            }
            
            .loan-info .contact-button {
                font-size: 0.8rem !important;
                padding: 0.3rem 0.6rem !important;
                margin-top: 0.15rem !important;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .info-card {
                padding: 1rem;
            }
            
            .info-card h3 {
                font-size: 1.1rem;
            }
            
            .schedule-table th,
            .schedule-table td {
                padding: 0.6rem;
                font-size: 0.85rem;
            }
            
            .commission-grid {
                grid-template-columns: 1fr;
                gap: 0.8rem;
            }
            
            .commission-card {
                padding: 1rem;
            }
            
            .contact-section {
                padding: 2rem 1rem;
            }
            
            .contact-section h2 {
                font-size: 1.5rem;
            }
            
            .contact-section h3 {
                font-size: 1.2rem;
                margin-top: 1.5rem;
            }
            
            .contact-button {
                font-size: 0.85rem;
                padding: 0.6rem 0.8rem;
                margin: 0.15rem;
                white-space: nowrap;
            }
            
            .contact-section p {
                font-size: 0.9rem !important;
                line-height: 1.4;
            }
            
            .contact-section > div {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 0.4rem;
                margin: 0.5rem 0;
            }
            
            .contact-section .contact-button {
                flex: 1 1 calc(50% - 0.2rem);
                min-width: 140px;
                max-width: 180px;
                text-align: center;
                font-size: 0.8rem;
                padding: 0.6rem 0.5rem;
                line-height: 1.2;
            }
            
            .contact-section > div:last-child {
                margin-top: 1.5rem;
            }
            
            .contact-section > div:last-child > div {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0.4rem;
                text-align: center;
            }
            
            .contact-section > div:last-child > div > div {
                padding: 0.6rem;
                font-size: 0.9rem;
            }
            
            .contact-section > div:last-child > div > div > div {
                font-size: 1.5rem;
                margin-bottom: 0.2rem;
            }
            
            iframe {
                height: 250px;
                width: 100%;
                max-width: 500px;
            }
            
            /* è¯çµ¡æ–¹å¼éŸ¿æ‡‰å¼è¨­è¨ˆ */
            .contact-section {
                padding: 1rem;
            }
            
            .contact-section > div {
                grid-template-columns: 1fr !important;
                gap: 1rem !important;
            }
            
            /* ç›¸é—œè³‡æ–™é€£çµæ‰‹æ©Ÿç‰ˆå„ªåŒ– */
            .contact-button {
                min-width: 150px !important;
                font-size: 0.8rem !important;
                padding: 0.5rem 0.8rem !important;
                margin: 0.2rem !important;
            }
            
            /* å®¢æˆ¶è¦‹è­‰æŒ‰éˆ•æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
            #testimonialPrev, #testimonialNext {
                font-size: 0.8rem !important;
                padding: 0.4rem 0.8rem !important;
                margin: 0.2rem !important;
            }
            
            /* è¯çµ¡æ–¹å¼æ–‡å­—æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
            .contact-section p {
                font-size: 0.9rem !important;
                padding: 0.5rem !important;
            }
            
            .contact-section span {
                font-size: 0.9rem !important;
            }
        }
        
        /* é›»è…¦ç‰ˆç‰©ä»¶å¡ç‰‡é€²ä¸€æ­¥å„ªåŒ– - ä¸€å±é¡¯ç¤º */
        @media (min-width: 1024px) {
            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 0 0.5rem;
            }
            
            .properties-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                max-width: 800px;
                margin: 2rem auto 0;
            }
            
            .property-card {
                padding: 1rem;
            }
            
            .features-list {
                grid-template-columns: 1fr 1fr;
                gap: 0.2rem;
            }
            
            .features-list li {
                font-size: 0.8rem;
                padding: 0.25rem 0;
                padding-left: 1.3rem;
            }
            
            /* åœ°åœ–å€åŸŸç·Šæ¹ŠåŒ– */
            .map-section {
                padding: 1rem !important;
                margin: 0.5rem 0 !important;
            }
            
            .map-section h2 {
                font-size: 1.4rem !important;
                margin-bottom: 1.2rem !important;
            }
            
            .map-section h3 {
                font-size: 1.1rem !important;
                margin-bottom: 0.6rem !important;
            }
            
            .map-section p {
                font-size: 0.9rem !important;
                margin-bottom: 0.6rem !important;
            }
            
            .map-section iframe {
                height: 200px !important;
            }
            
            .map-section > div > div {
                padding: 1rem !important;
            }
            
            /* ç›¸é—œè³‡æ–™é€£çµç·Šæ¹ŠåŒ– */
            .links-section {
                padding: 1rem !important;
                margin: 0.5rem 0 !important;
            }
            
            .links-section h2 {
                font-size: 1.4rem !important;
                margin-bottom: 1rem !important;
            }
            
            .contact-button {
                min-width: 170px !important;
                padding: 0.6rem 1.1rem !important;
                font-size: 0.85rem !important;
                margin: 0.25rem !important;
            }
            
            /* å®¢æˆ¶è¦‹è­‰ç·Šæ¹ŠåŒ– */
            .testimonial-section {
                padding: 1.5rem 1rem !important;
                margin: 0.5rem 0 !important;
            }
            
            .testimonial-section h2 {
                font-size: 1.6rem !important;
                margin-bottom: 1.5rem !important;
            }
            
            .testimonial-slide {
                padding: 1.8rem !important;
            }
            
            .testimonial-slide p {
                font-size: 1.1rem !important;
                margin-bottom: 1.2rem !important;
            }
            
            .testimonial-slide div:first-child {
                font-size: 1.5rem !important;
                margin-bottom: 1.2rem !important;
            }
            
            .testimonial-slide div:last-child {
                font-size: 1rem !important;
            }
            
            /* è¯çµ¡æ–¹å¼ç·Šæ¹ŠåŒ– */
            .contact-section {
                padding: 1.5rem 1rem !important;
                margin: 0.5rem 0 !important;
            }
            
            .contact-section h2 {
                font-size: 1.6rem !important;
                margin-bottom: 1.5rem !important;
            }
            
            .contact-section > div {
                max-width: 1000px;
                gap: 1.5rem;
            }
            
            .contact-section > div > div {
                padding: 1.5rem !important;
            }
            
            .contact-section h3 {
                font-size: 1.2rem !important;
                margin-bottom: 1rem !important;
            }
            
            .contact-section p {
                font-size: 0.9rem !important;
                margin-bottom: 0.8rem !important;
            }
            
            .contact-section .contact-button {
                font-size: 0.85rem !important;
                padding: 0.6rem 1rem !important;
            }
        }
        
        /* æ‰‹æ©Ÿç‰ˆç‰¹è‰²åˆ—è¡¨æ”¹ç‚ºå–®æ¬„ */
        @media (max-width: 768px) {
            .features-list {
                grid-template-columns: 1fr;
            }
            
            /* ç…§ç‰‡æ»¾å‹•å€æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
            .photo-item {
                width: 70px !important;
                height: 52px !important;
            }
            
            .photo-scroll {
                gap: 0.4rem !important;
            }
            
            .photo-scroll-container {
                padding: 0.3rem 0 !important;
            }
        }
        
        /* å¹³æ¿ç‰ˆç…§ç‰‡æ»¾å‹•å€å„ªåŒ– */
        @media (max-width: 1024px) and (min-width: 769px) {
            .photo-item {
                width: 75px !important;
                height: 56px !important;
            }
            
            .loan-info {
                padding: 0.45rem 0.9rem;
                font-size: 0.9rem;
            }
            
            /* å¹³æ¿ç‰ˆç‰©ä»¶å¡ç‰‡å„ªåŒ– */
            .properties-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
                max-width: 600px;
                margin: 2rem auto 0;
            }
            
            .property-card {
                padding: 1.5rem;
            }
            
            /* å¹³æ¿ç‰ˆè¯çµ¡æ–¹å¼å„ªåŒ– */
            .contact-grid {
                grid-template-columns: 1fr !important;
                gap: 1.5rem !important;
            }
            
            /* å¹³æ¿ç‰ˆç›¸é—œè³‡æ–™é€£çµå„ªåŒ– */
            .contact-button {
                min-width: 160px !important;
                font-size: 0.85rem !important;
                padding: 0.6rem 1rem !important;
            }
        }
        
        /* é›»è…¦ç‰ˆç…§ç‰‡æ»¾å‹•å€å„ªåŒ– */
        @media (min-width: 1025px) {
            .photo-item {
                width: 80px !important;
                height: 60px !important;
            }
        }
        
        /* ç…§ç‰‡é …ç›®æ‡¸åœæ•ˆæœ */
        .photo-item:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2) !important;
        }
        
        .photo-item img:hover {
            cursor: pointer;
            filter: brightness(1.05);
        }
        
        /* æ©«å‘æ»¾å‹•æ¢æ¨£å¼ */
        .photo-scroll-container::-webkit-scrollbar {
            height: 4px;
        }
        
        .photo-scroll-container::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 2px;
        }
        
        .photo-scroll-container::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 2px;
        }
        
        .photo-scroll-container::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        /* æ‰‹æ©Ÿç‰ˆæ»¾å‹•æ¢å„ªåŒ– */
        @media (max-width: 768px) {
            .photo-scroll-container::-webkit-scrollbar {
                height: 3px;
            }
        }
        
        /* ç…§ç‰‡ç‡ˆç®±æ¨£å¼ */
        .photo-lightbox {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            backdrop-filter: blur(5px);
        }
        
        .lightbox-content {
            position: relative;
            margin: 2% auto;
            padding: 0;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .lightbox-main-image {
            max-width: 100%;
            max-height: 70vh;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            margin-bottom: 1rem;
        }
        
        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            z-index: 10;
        }
        
        .lightbox-nav:hover {
            background: rgba(255,255,255,1);
            transform: translateY(-50%) scale(1.1);
        }
        
        .lightbox-prev {
            left: 20px;
        }
        
        .lightbox-next {
            right: 20px;
        }
        
        .lightbox-close {
            position: absolute;
            top: 20px;
            right: 30px;
            background: rgba(255,255,255,0.9);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            z-index: 10;
        }
        
        .lightbox-close:hover {
            background: rgba(255,255,255,1);
            transform: scale(1.1);
        }
        
        .lightbox-thumbnails {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
            max-width: 100%;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255,255,255,0.3) transparent;
        }
        
        .lightbox-thumbnails::-webkit-scrollbar {
            height: 6px;
        }
        
        .lightbox-thumbnails::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .lightbox-thumbnails::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.3);
            border-radius: 3px;
        }
        
        .lightbox-thumbnail {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 5px;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .lightbox-thumbnail:hover {
            opacity: 1;
            transform: scale(1.05);
        }
        
        .lightbox-thumbnail.active {
            opacity: 1;
            border-color: #fff;
            transform: scale(1.1);
        }
        
        .lightbox-info {
            text-align: center;
            color: white;
            margin-top: 1rem;
        }
        
        .lightbox-info h3 {
            margin: 0 0 0.5rem 0;
            font-size: 1.2rem;
        }
        
        .lightbox-info p {
            margin: 0;
            opacity: 0.8;
            font-size: 0.9rem;
        }
        
        /* æ‰‹æ©Ÿç‰ˆç‡ˆç®±å„ªåŒ– */
        @media (max-width: 768px) {
            .lightbox-content {
                width: 95%;
                margin: 5% auto;
            }
            
            .lightbox-main-image {
                max-height: 60vh;
            }
            
            .lightbox-nav {
                width: 40px;
                height: 40px;
                font-size: 1.2rem;
            }
            
            .lightbox-prev {
                left: 10px;
            }
            
            .lightbox-next {
                right: 10px;
            }
            
            .lightbox-close {
                top: 10px;
                right: 15px;
                width: 35px;
                height: 35px;
                font-size: 1.2rem;
            }
            
            .lightbox-thumbnails {
                gap: 0.3rem;
                padding: 0.5rem;
            }
            
            .lightbox-thumbnail {
                width: 60px;
                height: 45px;
            }
        }
        
        /* è²¸æ¬¾è©¦ç®—å½ˆçª—æ¨£å¼ */
        .loan-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        
        .loan-modal-content {
            background-color: #fefefe;
            margin: 2% auto;
            padding: 0;
            border-radius: 12px;
            width: 95%;
            max-width: 950px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            animation: modalSlideIn 0.3s ease-out;
            display: flex;
            flex-direction: column;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .loan-modal-header {
            background: linear-gradient(135deg, #10b981 0%, #3b82f6 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 12px 12px 0 0;
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .loan-modal-title {
            font-size: 1.2rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        
        .loan-modal-close {
            color: white;
            font-size: 1.8rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease;
            line-height: 1;
            padding: 0.2rem;
        }
        
        .loan-modal-close:hover {
            transform: scale(1.1);
        }
        
        .loan-modal-body {
            padding: 1rem;
            flex: 1;
            overflow-y: auto;
            max-height: calc(90vh - 100px);
            scrollbar-width: thin;
            scrollbar-color: #10b981 #f1f5f9;
        }
        
        .loan-modal-body::-webkit-scrollbar {
            width: 6px;
        }
        
        .loan-modal-body::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }
        
        .loan-modal-body::-webkit-scrollbar-thumb {
            background: #10b981;
            border-radius: 3px;
        }
        
        .loan-modal-body::-webkit-scrollbar-thumb:hover {
            background: #059669;
        }
        
        .loan-modal-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.2rem;
        }
        
        .loan-input-section {
            background: #f8f9fa;
            border-radius: 6px;
            padding: 1rem;
        }
        
        .loan-result-section {
            background: #ffffff;
            border-radius: 6px;
            padding: 0.6rem;
        }
        
        .loan-input-group {
            margin-bottom: 0.6rem;
        }
        
        .loan-input-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.2rem;
            color: #374151;
            font-size: 0.8rem;
        }
        
        .loan-input {
            width: 100%;
            padding: 0.4rem;
            border: 2px solid #e5e7eb;
            border-radius: 5px;
            font-size: 0.85rem;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        
        .loan-input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }
        
        select.loan-input {
            background-color: white;
            background-image: url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23666' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.7em center;
            background-size: 0.65em auto;
            padding-right: 2.5em;
            cursor: pointer;
        }
        
        .loan-slider {
            width: 100%;
            margin: 0.4rem 0;
            -webkit-appearance: none;
            appearance: none;
            height: 4px;
            border-radius: 2px;
            background: #e5e7eb;
            outline: none;
            cursor: pointer;
        }
        
        .loan-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #10b981;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 1px 4px rgba(0,0,0,0.15);
        }
        
        .loan-slider::-moz-range-thumb {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #10b981;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 1px 4px rgba(0,0,0,0.15);
        }
        
        .loan-slider-value {
            text-align: center;
            font-weight: bold;
            color: #10b981;
            font-size: 0.8rem;
            margin-top: 0.1rem;
        }
        
        
        .loan-result-card {
            background: white;
            border-radius: 6px;
            padding: 0.8rem;
            margin-bottom: 0.6rem;
            border-left: 3px solid #10b981;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        
        .loan-result-title {
            font-weight: bold;
            color: #10b981;
            margin-bottom: 0.6rem;
            font-size: 0.9rem;
        }
        
        .loan-result-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.3rem;
            font-size: 0.8rem;
        }
        
        .loan-result-highlight {
            background: linear-gradient(135deg, #10b981, #3b82f6);
            color: white;
            border-radius: 6px;
            padding: 0.4rem 0.8rem;
            text-align: center;
            margin-top: 0.6rem;
        }
        
        .loan-result-highlight h3 {
            font-size: 0.9rem;
            margin-bottom: 0.2rem;
        }
        
        .loan-result-highlight .amount {
            font-size: 1.3rem;
            font-weight: bold;
            margin: 0.1rem 0;
        }
        
        /* æ‰‹æ©Ÿç‰ˆå„ªåŒ– */
        @media (max-width: 768px) {
            .loan-modal-content {
                margin: 3% auto;
                width: 95%;
                max-width: 750px;
                max-height: 90vh;
            }
            
            .loan-modal-header {
                padding: 0.8rem 1rem;
            }
            
            .loan-modal-title {
                font-size: 1.1rem;
            }
            
            .loan-modal-body {
                padding: 1rem;
                max-height: calc(90vh - 80px);
                overflow-y: auto;
            }
            
            .loan-modal-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .loan-input-section {
                padding: 1rem;
            }
            
            .loan-result-section {
                padding: 0.8rem;
            }
            
            .loan-input-group {
                margin-bottom: 0.8rem;
            }
            
            .loan-result-grid {
                grid-template-columns: 1fr 1fr;
                gap: 0.2rem;
            }
            
            /* å¹³æ¿ç‰ˆå¤šæ¬„å¸ƒå±€æ”¹ç‚ºå–®æ¬„ */
            .loan-input-section div[style*="grid-template-columns: 1fr 1fr"] {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 0.8rem !important;
            }
            
            /* å¹³æ¿ç‰ˆçµæœå€åŸŸæ”¹ç‚ºå–®æ¬„ */
            .loan-result-section div[style*="grid-template-columns: 1fr 1fr"] {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 0.6rem !important;
            }
            
            /* å¹³æ¿ç‰ˆå…§è¯æ¨£å¼çš„å¤šæ¬„å¸ƒå±€æ”¹ç‚ºå–®æ¬„ */
            div[style*="display: grid; grid-template-columns: 1fr 1fr"] {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 0.6rem !important;
            }
            
            /* è²¸æ¬¾è©¦ç®—è¼¸å…¥è¡ŒéŸ¿æ‡‰å¼è¨­è¨ˆ */
            .loan-input-row {
                grid-template-columns: 1fr !important;
                gap: 0.8rem !important;
            }
            
            /* è²¸æ¬¾è©¦ç®—çµæœè¡ŒéŸ¿æ‡‰å¼è¨­è¨ˆ */
            .loan-result-row {
                grid-template-columns: 1fr !important;
                gap: 0.6rem !important;
            }
        }
        
        @media (max-width: 480px) {
            .loan-modal-content {
                margin: 1% auto;
                width: 98%;
                max-height: 98vh;
                border-radius: 8px;
            }
            
            .loan-modal-header {
                padding: 0.5rem 0.8rem;
            }
            
            .loan-modal-title {
                font-size: 0.9rem;
            }
            
            .loan-modal-close {
                font-size: 1.5rem;
                padding: 0.1rem;
            }
            
            .loan-modal-body {
                padding: 0.6rem;
                max-height: calc(98vh - 60px);
                overflow-y: auto;
            }
            
            .loan-modal-grid {
                gap: 0.6rem;
            }
            
            .loan-input-section,
            .loan-result-section {
                padding: 0.6rem;
            }
            
            .loan-input-group {
                margin-bottom: 0.4rem;
            }
            
            .loan-input-label {
                font-size: 0.75rem;
                margin-bottom: 0.15rem;
            }
            
            .loan-input {
                padding: 0.3rem;
                font-size: 0.75rem;
            }
            
            .loan-slider {
                margin: 0.2rem 0;
                height: 4px;
            }
            
            .loan-slider-value {
                font-size: 0.7rem;
                margin-top: 0.05rem;
            }
            
            .loan-result-title {
                font-size: 0.8rem;
                margin-bottom: 0.4rem;
            }
            
            .loan-result-grid {
                grid-template-columns: 1fr 1fr;
                gap: 0.15rem;
                font-size: 0.7rem;
            }
            
            .loan-result-highlight {
                padding: 0.3rem 0.5rem;
                margin-top: 0.4rem;
            }
            
            .loan-result-highlight h3 {
                font-size: 0.8rem;
                margin-bottom: 0.1rem;
            }
            
            .loan-result-highlight .amount {
                font-size: 1.1rem;
                margin: 0.05rem 0;
            }
            
            .loan-result-highlight p {
                font-size: 0.7rem;
                margin-top: 0.1rem;
            }
            
            /* æ‰‹æ©Ÿç‰ˆå¤šæ¬„å¸ƒå±€æ”¹ç‚ºå–®æ¬„ */
            .loan-input-section div[style*="grid-template-columns: 1fr 1fr"] {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 0.6rem !important;
            }
            
            /* æ‰‹æ©Ÿç‰ˆçµæœå€åŸŸæ”¹ç‚ºå–®æ¬„ */
            .loan-result-section div[style*="grid-template-columns: 1fr 1fr"] {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 0.4rem !important;
            }
            
            /* æ‰‹æ©Ÿç‰ˆå…§è¯æ¨£å¼çš„å¤šæ¬„å¸ƒå±€æ”¹ç‚ºå–®æ¬„ */
            div[style*="display: grid; grid-template-columns: 1fr 1fr"] {
                display: grid !important;
                grid-template-columns: 1fr !important;
                gap: 0.4rem !important;
            }
            
            /* è²¸æ¬¾è©¦ç®—è¼¸å…¥è¡ŒéŸ¿æ‡‰å¼è¨­è¨ˆ */
            .loan-input-row {
                grid-template-columns: 1fr !important;
                gap: 0.6rem !important;
            }
            
            /* è²¸æ¬¾è©¦ç®—çµæœè¡ŒéŸ¿æ‡‰å¼è¨­è¨ˆ */
            .loan-result-row {
                grid-template-columns: 1fr !important;
                gap: 0.4rem !important;
            }
            
            .loan-result-highlight .amount {
                font-size: 1.3rem;
                margin: 0.05rem 0;
            }
            
            .loan-result-card {
                padding: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <img src="https://joinus.hbhousing.com.tw/assets/images/logo.5aacccab.png" alt="ä½å•†ä¸å‹•ç”¢" style="height: 1.2em; width: auto; vertical-align: middle;">
                ä½å•†ä¸å‹•ç”¢-æ¥Šæ¢…å¤§é †åº—
            </h1>
            <p>ç²¾é¸ç‰©ä»¶ | ä½æ–¼éŠ€è¡Œé‘‘åƒ¹ | é ç´„å¾é€Ÿ</p>
        </header>
        
        <div class="urgent-banner">
            âš¡ <span id="urgentCountdown">ä½è‡ªå‚™</span> | å…¨å€æœ€ä½åƒ¹ | æ–¡æ—‹å„ªå…ˆ âš¡
        </div>
        
        <section class="properties-section">
            <div style="text-align: center; margin: 0.3rem 0 0.8rem 0;">
                <h2 style="font-size: 1.8rem; color: #2c3e50; padding: 0.4rem 0.8rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 8px; box-shadow: 0 3px 12px rgba(102, 126, 234, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2); text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); position: relative; overflow: hidden; display: inline-block; margin: 0;">æ¿¬ç‘’åš´é¸å„ªè³ªç‰©ä»¶</h2>
            </div>
            
            <div class="properties-grid">
                <div class="property-card">
                    <h3 class="property-title">æ–°éƒ½æ‚…ï½œ2æˆ¿2å»³1è¡›ï½œè»Šä½</h3>
                    
                    <!-- ç…§ç‰‡æ»¾å‹•å€ -->
                    <div class="photo-scroll-container" style="margin: 0.6rem 0; overflow-x: auto; padding: 0.5rem 0;">
                        <div class="photo-scroll" style="display: flex; gap: 0.5rem; width: max-content;">
                            <div class="photo-item" onclick="openLightbox(0, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/å®¢å»³.jpg" alt="å®¢å»³" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(1, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/å®¢å»³è¦–è§’2.jpg" alt="å®¢å»³è¦–è§’2" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(2, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/å®¢å»³è¦–è§’3.jpg" alt="å®¢å»³è¦–è§’3" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(3, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/å®¢å»³è¦–è§’4.jpg" alt="å®¢å»³è¦–è§’4" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(4, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/ç„é—œ.jpg" alt="ç„é—œ" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(5, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/ä¸»è‡¥æˆ¿.jpg" alt="ä¸»è‡¥æˆ¿" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(6, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/ä¸»è‡¥æˆ¿2.jpg" alt="ä¸»è‡¥æˆ¿2" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(7, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/æ¬¡è‡¥æˆ¿.jpg" alt="æ¬¡è‡¥æˆ¿" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(8, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/è¡›æµ´.jpg" alt="è¡›æµ´" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(9, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/é™½å°ç…§ç‰‡.jpg" alt="é™½å°ç…§ç‰‡" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(10, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/é™½å°ç…§ç‰‡2.jpg" alt="é™½å°ç…§ç‰‡2" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(11, 'property1')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property3/æ ¼å±€åœ–.png" alt="æ ¼å±€åœ–" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 0.6rem; border-radius: 6px; margin: 0.6rem 0; font-size: 0.8rem;">
                        <strong>ğŸ“ åœ°å€ï¼š</strong>æ¥Šæ¢…å€æ¢…ç…è·¯äºŒæ®µ232å··28è™Ÿ10æ¨“<br>
                        <strong>ğŸ¢ ç¤¾å€ï¼š</strong>æ–°éƒ½æ‚…æ™¯è§€æº«é¦¨å…©æˆ¿è»Š
                    </div>
                    <div class="price-highlight">
                        å”®åƒ¹ï¼š896è¬<br>
                        <span style="color: #27ae60;">ä½è‡ªå‚™æ¬¾æº«é¦¨å…©æˆ¿è»Š</span>
                    </div>
                    <ul class="features-list">
                        <li>2æˆ¿2å»³1è¡›æ ¼å±€</li>
                        <li>ç¸½åªæ•¸40.08åª (ä¸»å»ºç‰©18.17åª)</li>
                        <li>10æ¨“ / ç¸½æ¨“å±¤14æ¨“</li>
                        <li>å±‹é½¡11å¹´ (103.01.05å®Œå·¥)</li>
                        <li>åº§åŒ—æœå— / æœ‰é›»æ¢¯</li>
                        <li>å¹³é¢è»Šä½B3-14 / æ©Ÿè»Šä½B1-55</li>
                        <li>ç®¡ç†è²»2,077å…ƒ/æœˆ</li>
                    </ul>
                    <div style="background: #e8f5e8; padding: 0.6rem; border-radius: 6px; margin-top: auto;">
                        <h4 style="color: #27ae60; margin-bottom: 0.3rem; font-size: 0.85rem;">ğŸŒŸ ç”Ÿæ´»æ©Ÿèƒ½</h4>
                        <p style="font-size: 0.75rem; margin: 0;">
                            <strong>å­¸æ ¡ï¼š</strong>ç‘åªåœ‹ä¸­ã€ç‘å¡˜åœ‹å°<br>
                            <strong>äº¤é€šï¼š</strong>å°1ç·šã€æ¥Šæ¢…äº¤æµé“ã€åŸ”å¿ƒç«è»Šç«™<br>
                            <strong>å•†åœˆï¼š</strong>æ„›è²·å•†åœˆã€æ¢…ç…è·¯å•†åœˆã€UNIQLOã€æ˜Ÿå·´å…‹<br>
                            <strong>å…¬åœ’ï¼š</strong>æŸšå­å…¬åœ’<br>
                            <br>
                            <br>
                        </p>
                    </div>
                    <div class="loan-info" style="margin-top: 0.6rem;">
                        ğŸ’° å¯è²¸æ¬¾é¡åº¦ï¼š716è¬ - 760è¬
                        <div style="font-size: 0.6rem; color: #e74c3c; margin-top: 0.05rem; font-weight: bold;">ä»¥ä¸Šç‚ºéŠ€è¡Œåˆä¼°å¯¦éš›ä¾å€‹äººæ¢ä»¶ç‚ºä¸»</div>
                        <a href="javascript:void(0)" onclick="openLoanModal()" class="contact-button" style="font-size: 0.9rem; padding: 0.4rem 0.8rem; margin-top: 0.2rem; display: inline-block;">
                            ğŸ§® è²¸æ¬¾è©¦ç®—
                        </a>
                    </div>
                </div>
                
                <div class="property-card">
                    <h3 class="property-title">ä¸–ç´€ç¾å¦é›™é–‹ä¸‰æˆ¿è»Šï½œ3æˆ¿2å»³2è¡›ï½œè»Šä½</h3>
                    
                    <!-- ç…§ç‰‡æ»¾å‹•å€ -->
                    <div class="photo-scroll-container" style="margin: 0.6rem 0; overflow-x: auto; padding: 0.5rem 0;">
                        <div class="photo-scroll" style="display: flex; gap: 0.5rem; width: max-content;">
                            <div class="photo-item" onclick="openLightbox(0, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/å®¢å»³.jpg" alt="å®¢å»³" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(1, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/å®¢å»³1.jpg" alt="å®¢å»³1" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(2, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/å®¢å»³2.jpg" alt="å®¢å»³2" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(3, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/å»šæˆ¿.jpg" alt="å»šæˆ¿" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(4, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/ä¸»è‡¥.jpg" alt="ä¸»è‡¥" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(5, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/æ¬¡è‡¥æˆ¿.jpg" alt="æ¬¡è‡¥æˆ¿" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(6, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/æ¬¡è‡¥æˆ¿2.jpg" alt="æ¬¡è‡¥æˆ¿2" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(7, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/æ¬¡è‡¥æˆ¿3.jpg" alt="æ¬¡è‡¥æˆ¿3" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(8, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/æ¬¡è‡¥æˆ¿-1.jpg" alt="æ¬¡è‡¥æˆ¿-1" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(9, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/æ¬¡è‡¥æˆ¿-1-1.jpg" alt="æ¬¡è‡¥æˆ¿-1-1" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(10, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/æ¬¡è‡¥æˆ¿2-1.jpg" alt="æ¬¡è‡¥æˆ¿2-1" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(11, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/è¡›æµ´1.jpg" alt="è¡›æµ´1" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(12, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/å»æ‰€.jpg" alt="å»æ‰€" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(13, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/é™½å°.jpg" alt="é™½å°" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                            <div class="photo-item" onclick="openLightbox(14, 'property2')" style="flex-shrink: 0; width: 80px; height: 60px; border-radius: 4px; overflow: hidden; cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                                <img src="images/property4/æ ¼å±€åœ–.jpg" alt="æ ¼å±€åœ–" style="width: 100%; height: 100%; object-fit: cover;">
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 0.6rem; border-radius: 6px; margin: 0.6rem 0; font-size: 0.8rem;">
                        <strong>ğŸ“ åœ°å€ï¼š</strong>æ¥Šæ¢…å€é‡‘å±±è¡—368å··20è™Ÿ14æ¨“<br>
                        <strong>ğŸ¢ ç¤¾å€ï¼š</strong>ä¸–ç´€åŸ (ä¸–ç´€ç¾å¦é›™é–‹ä¸‰æˆ¿è»Š)
                    </div>
                    <div class="price-highlight">
                        å”®åƒ¹ï¼š1,298è¬<br>
                        <span style="color: #27ae60;">é«˜æ¨“å±¤æ™¯è§€æˆ¶ã€å…¨å®¤ç¾è£æ½¢</span>
                    </div>
                    <ul class="features-list">
                        <li>3æˆ¿2å»³2è¡›æ ¼å±€</li>
                        <li>ç¸½åªæ•¸47.51åª (ä¸»å»ºç‰©22.97åª)</li>
                        <li>14æ¨“ / ç¸½æ¨“å±¤15æ¨“</li>
                        <li>å±‹é½¡7å¹´ (106.08.02å®Œå·¥)</li>
                        <li>åº§æ±åŒ—æœè¥¿å— / æœ‰é›»æ¢¯</li>
                        <li>å¹³é¢è»Šä½B2-162 / æ©Ÿè»Šä½B1-418</li>
                        <li>ç®¡ç†è²»1,904å…ƒ/æœˆ</li>
                        <li>ç¨€æœ‰è¡›æµ´é–‹çª—è¨­è¨ˆ</li>
                        <li>å‰å¾Œé›™é™½å°</li>
                        <li>å…¨å®¤ç¾è£æ½¢</li>
                        <li>å¤©ç„¶ç“¦æ–¯</li>
                    </ul>
                    <div style="background: #e8f5e8; padding: 0.6rem; border-radius: 6px; margin-top: auto;">
                        <h4 style="color: #27ae60; margin-bottom: 0.3rem; font-size: 0.85rem;">ğŸŒŸ ç”Ÿæ´»æ©Ÿèƒ½</h4>
                        <p style="font-size: 0.75rem; margin: 0;">
                            <strong>å­¸æ ¡ï¼š</strong>æ¥Šæ˜åœ‹ä¸­ã€æ¥Šæ˜åœ‹å°ã€å¤§åŒåœ‹å°<br>
                            <strong>äº¤é€šï¼š</strong>æ¥Šæ¢…äº¤æµé“ã€å…¬è»Šå®¢é‹ç«™ã€æ¥Šæ¢…å€å…è²»å…¬è»Šã€æ¥Šæ¢…ç«è»Šç«™<br>
                            <strong>å•†åœˆï¼š</strong>ç’°æ±è·¯å•†åœˆã€æ–°è¾²è¡—å•†åœˆã€æ˜Ÿå·´å…‹ã€å…¨è¯ç¦åˆ©ä¸­å¿ƒ<br>
                            <strong>é†«ç™‚ï¼š</strong>å¤©æˆé†«é™¢<br>
                            <strong>å…¬åœ’ï¼š</strong>æ¥Šæ˜å…¬åœ’<br>
                            <strong>å¤œå¸‚ï¼š</strong>æ¥Šæ¢…è§€å…‰å¤œå¸‚
                        </p>
                    </div>
                    <div class="loan-info" style="margin-top: 0.6rem;">
                        ğŸ’° å¯è²¸æ¬¾é¡åº¦ï¼š1,038è¬ - 1,103è¬
                        <div style="font-size: 0.6rem; color: #e74c3c; margin-top: 0.05rem; font-weight: bold;">ä»¥ä¸Šç‚ºéŠ€è¡Œåˆä¼°å¯¦éš›ä¾å€‹äººæ¢ä»¶ç‚ºä¸»</div>
                        <a href="javascript:void(0)" onclick="openLoanModal(1298, 8)" class="contact-button" style="font-size: 0.9rem; padding: 0.4rem 0.8rem; margin-top: 0.2rem; display: inline-block;">
                            ğŸ§® è²¸æ¬¾è©¦ç®—
                        </a>
                    </div>
                </div>
            </div>
        </section>
        
        <section style="background: #f8f9fa; padding: 1.2rem; text-align: center;">
            <h2 style="color: #2c3e50; margin-bottom: 1.2rem;">ğŸ“ ç‰©ä»¶ä½ç½®</h2>
            
            <!-- å…©å€‹ç‰©ä»¶çš„åœ°åœ–ä¸¦æ’é¡¯ç¤º -->
            <div class="maps-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.2rem; max-width: 800px; margin: 0 auto;">
                <!-- æ–°éƒ½æ‚…åœ°åœ– -->
                <div style="background: white; padding: 1rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    <h3 style="color: #2c3e50; margin-bottom: 0.8rem; font-size: 1.1rem;">ğŸ¢ æ–°éƒ½æ‚…</h3>
                    <p style="color: #7f8c8d; margin-bottom: 0.8rem; font-size: 0.85rem;">æ¥Šæ¢…å€æ¢…ç…è·¯äºŒæ®µ232å··28è™Ÿ10æ¨“</p>
                    <div style="border-radius: 10px; overflow: hidden;">
                        <iframe src="https://www.google.com/maps/embed?pb=!4v1758354889136!6m8!1m7!1sUkFwZyw6j3XcYDAVWZAdcg!2m2!1d24.90605587454584!2d121.1772851819323!3f210.84360449450813!4f22.43580706557097!5f0.7820865974627469" width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
                
                <!-- ä¸–ç´€ç¾å¦åœ°åœ– -->
                <div style="background: white; padding: 1rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    <h3 style="color: #2c3e50; margin-bottom: 0.8rem; font-size: 1.1rem;">ğŸ¢ ä¸–ç´€ç¾å¦é›™é–‹ä¸‰æˆ¿è»Š</h3>
                    <p style="color: #7f8c8d; margin-bottom: 0.8rem; font-size: 0.85rem;">æ¥Šæ¢…å€é‡‘å±±è¡—368å··20è™Ÿ14æ¨“</p>
                    <div style="border-radius: 10px; overflow: hidden;">
                        <iframe src="https://www.google.com/maps/embed?pb=!4v1758360194948!6m8!1m7!1sqwetxttnYo9gbfTJYRoi4A!2m2!1d24.91241314155521!2d121.1628332443688!3f154.83489254955228!4f26.465228026732888!5f0.7820865974627469" width="100%" height="250" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
            
            <!-- éŸ¿æ‡‰å¼è¨­è¨ˆï¼šæ‰‹æ©Ÿç‰ˆå–®åˆ—é¡¯ç¤º -->
            <style>
                @media (max-width: 768px) {
                    .maps-grid {
                        grid-template-columns: 1fr !important;
                        gap: 1rem !important;
                    }
                    
                    .contact-grid {
                        grid-template-columns: 1fr !important;
                        gap: 1rem !important;
                    }
                }
            </style>
        </section>
        
        <!-- ç›¸é—œè³‡æ–™é€£çµ -->
        <section style="background: #f8f9fa; padding: 1.2rem; margin: 1rem 0; text-align: center;">
            <h2 style="color: #2c3e50; margin-bottom: 0.8rem;">ğŸ“ ç›¸é—œè³‡æ–™é€£çµ</h2>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 0.8rem; max-width: 1000px; margin: 0 auto;">
                <a href="https://realtor.houseprice.tw/agent/buy/0925666597/" class="contact-button" target="_blank" style="background: linear-gradient(45deg, #2ecc71, #27ae60); color: white; padding: 0.6rem 1.2rem; border-radius: 20px; text-decoration: none; font-weight: bold; display: inline-flex; align-items: center; gap: 0.4rem; transition: all 0.3s ease; box-shadow: 0 3px 12px rgba(46, 204, 113, 0.3); min-width: 180px; text-align: center; justify-content: center; font-size: 0.9rem;">ğŸ  æ›´å¤šç‰©ä»¶è³‡æ–™</a>
                <a href="https://www.tiktok.com/@aihouse168" class="contact-button" target="_blank" style="background: linear-gradient(45deg, #000000, #333333); color: white; padding: 0.6rem 1.2rem; border-radius: 20px; text-decoration: none; font-weight: bold; display: inline-flex; align-items: center; gap: 0.4rem; transition: all 0.3s ease; box-shadow: 0 3px 12px rgba(0, 0, 0, 0.3); min-width: 180px; text-align: center; justify-content: center; font-size: 0.9rem;">ğŸµ TikTokçŸ­å½±éŸ³</a>
            </div>
        </section>
        
        <!-- å®¢æˆ¶è¦‹è­‰ -->
        <section style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 1.2rem 1rem; margin: 0.8rem 0; position: relative; overflow: hidden;">
            <!-- èƒŒæ™¯è£é£¾ -->
            <div style="position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: url('data:image/svg+xml,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 100 100&quot;><circle cx=&quot;20&quot; cy=&quot;20&quot; r=&quot;2&quot; fill=&quot;rgba(255,255,255,0.1)&quot;/><circle cx=&quot;80&quot; cy=&quot;80&quot; r=&quot;1&quot; fill=&quot;rgba(255,255,255,0.1)&quot;/><circle cx=&quot;60&quot; cy=&quot;30&quot; r=&quot;1.5&quot; fill=&quot;rgba(255,255,255,0.1)&quot;/></svg>') repeat; animation: float 20s infinite linear;"></div>
            
            <h2 style="text-align: center; margin-bottom: 1.2rem; color: white; font-size: 1.4rem; font-weight: 800; text-shadow: 0 2px 4px rgba(0,0,0,0.3); position: relative; z-index: 2;">ğŸ’¬ å®¢æˆ¶è¦‹è­‰</h2>
            
            <div style="max-width: 800px; margin: 0 auto; position: relative; z-index: 2;">
                <div id="testimonialSlides" style="display: flex; transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);">
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œæ´½è«‡é€æ˜ã€ç¯€å¥æµæš¢ï¼Œå¾ä¼°åƒ¹åˆ°äº¤å±‹éƒ½è¶…æ”¾å¿ƒï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” é™³å…ˆç”Ÿï¼ˆå±‹ä¸»ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œå¯¦åœ°çœ‹å±‹å®‰æ’æœ‰æ•ˆç‡ï¼Œé‡é»ä»‹ç´¹åˆ°ä½ï¼Œæ²’æœ‰è©±è¡“ã€‚ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” å³å°å§ï¼ˆè²·æ–¹ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œæ–‡ä»¶èˆ‡æµç¨‹è¶…å°ˆæ¥­ï¼Œåƒ¹æ ¼è«‡æˆæ¯”é æœŸæ›´å¥½ï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” è‘‰å…ˆç”Ÿï¼ˆè²·æ–¹ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€ŒåŠ‰å°å§æœå‹™è¶…å°ˆæ¥­ï¼Œå¾çœ‹å±‹åˆ°æˆäº¤éƒ½å¾ˆç´°å¿ƒï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” æ—å¤ªå¤ªï¼ˆè²·æ–¹ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œè”¡å…ˆç”Ÿå¾ˆèª å¯¦ï¼Œä¸æœƒäº‚æ¨éŠ·ï¼Œåƒ¹æ ¼ä¹Ÿå¾ˆåˆç†ã€‚ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” ç‹å…ˆç”Ÿï¼ˆå±‹ä¸»ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œæœå‹™æ…‹åº¦å¾ˆå¥½ï¼Œå°ˆæ¥­åº¦ä¹Ÿå¾ˆé«˜ï¼Œæ¨è–¦çµ¦éœ€è¦è²·æˆ¿çš„æœ‹å‹ï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” å¼µå°å§ï¼ˆè²·æ–¹ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œå¾çœ‹å±‹åˆ°ç°½ç´„ï¼Œæ•´å€‹æµç¨‹éƒ½å¾ˆé †æš¢ï¼Œéå¸¸æ»¿æ„ï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” æå¤ªå¤ªï¼ˆè²·æ–¹ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œåƒ¹æ ¼è«‡å¾—å¾ˆåˆç†ï¼Œæ‰‹çºŒè¾¦ç†ä¹Ÿå¾ˆå¿«é€Ÿï¼Œå€¼å¾—ä¿¡è³´ï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” é»ƒå…ˆç”Ÿï¼ˆè²·æ–¹ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œç¬¬ä¸€æ¬¡è²·æˆ¿å¾ˆç·Šå¼µï¼Œä½†ç¶“ç´€äººå¾ˆè€å¿ƒè§£é‡‹æ¯å€‹ç´°ç¯€ï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” é™³å°å§ï¼ˆé¦–è³¼æ—ï¼‰</p>
                    </div>
                    <div class="testimonial-slide" style="min-width: 100%; padding: 1.4rem; text-align: center; background: rgba(255,255,255,0.95); border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.2); backdrop-filter: blur(10px);">
                        <div style="color: #ffd700; font-size: 1.3rem; margin-bottom: 1rem; text-shadow: 0 1px 2px rgba(0,0,0,0.1);">â­â­â­â­â­</div>
                        <p style="font-size: 0.95rem; color: #2c3e50; margin-bottom: 1rem; line-height: 1.5; font-weight: 500;">ã€Œè³£æˆ¿éç¨‹å¾ˆé †åˆ©ï¼Œåƒ¹æ ¼ä¹Ÿé”åˆ°é æœŸï¼Œéå¸¸æ¨è–¦ï¼ã€</p>
                        <p style="color: #7f8c8d; font-weight: 600; font-size: 0.85rem;">â€” æ—å…ˆç”Ÿï¼ˆå±‹ä¸»ï¼‰</p>
                    </div>
                </div>
                <div style="display: flex; gap: 0.6rem; justify-content: center; margin-top: 1.2rem;">
                    <button id="testimonialPrev" style="background: linear-gradient(45deg, #ff6b6b, #ee5a52); color: white; border: none; padding: 0.5rem 1rem; border-radius: 18px; cursor: pointer; font-size: 0.85rem; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 2px 10px rgba(255,107,107,0.3);">â€¹ ä¸Šä¸€å‰‡</button>
                    <button id="testimonialNext" style="background: linear-gradient(45deg, #4ecdc4, #44a08d); color: white; border: none; padding: 0.5rem 1rem; border-radius: 18px; cursor: pointer; font-size: 0.85rem; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 2px 10px rgba(78,205,196,0.3);">ä¸‹ä¸€å‰‡ â€º</button>
                </div>
            </div>
        </section>
        
        <!-- è¯çµ¡æ–¹å¼ -->
        <section style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 1.5rem 1.2rem; margin: 1rem 0; position: relative;">
            <h2 style="text-align: center; margin-bottom: 1.5rem; color: #2c3e50; font-size: 1.6rem; font-weight: 800; position: relative;">
                <span style="background: linear-gradient(45deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ğŸ“ è¯çµ¡æ–¹å¼</span>
            </h2>
            <div class="contact-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.8rem; max-width: 1000px; margin: 0 auto;">
                <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); padding: 1.8rem; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border: 1px solid rgba(102, 126, 234, 0.1); position: relative; overflow: hidden; display: flex; flex-direction: column; height: 100%;">
                    <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #667eea, #764ba2);"></div>
                    <h3 style="color: #2c3e50; margin-bottom: 1.2rem; font-size: 1.2rem; font-weight: 700; display: flex; align-items: center; gap: 0.4rem;">
                        <span style="background: linear-gradient(45deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ğŸ‘¥ è¯çµ¡æ–¹å¼</span>
                    </h3>
                    <div style="flex: 1;">
                        <p style="margin-bottom: 0.8rem; font-size: 1rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.6rem; background: rgba(102, 126, 234, 0.05); border-radius: 8px; border-left: 3px solid #667eea;">
                            <i class="bi bi-person-fill" style="color: #667eea; font-size: 1.1rem;"></i>
                            <span style="font-weight: 600;">åŠ‰å­è²</span>
                            <a href="tel:0925666597" style="color: #e74c3c; text-decoration: none; font-weight: bold; margin-left: auto; display: flex; align-items: center; gap: 0.25rem;">
                                <i class="bi bi-phone-fill"></i> 0925-666-597
                            </a>
                        </p>
                        <p style="margin-bottom: 0.8rem; font-size: 1rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.6rem; background: rgba(102, 126, 234, 0.05); border-radius: 8px; border-left: 3px solid #667eea;">
                            <i class="bi bi-person-fill" style="color: #667eea; font-size: 1.1rem;"></i>
                            <span style="font-weight: 600;">è”¡æ¿¬ç‘’</span>
                            <a href="tel:0928776755" style="color: #e74c3c; text-decoration: none; font-weight: bold; margin-left: auto; display: flex; align-items: center; gap: 0.25rem;">
                                <i class="bi bi-phone-fill"></i> 0928-776-755
                            </a>
                        </p>
                        <p style="margin-bottom: 1.2rem; font-size: 1rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.6rem; background: rgba(0, 200, 81, 0.05); border-radius: 8px; border-left: 3px solid #00c851;">
                            <i class="bi bi-chat-dots-fill" style="color: #00c851; font-size: 1.1rem;"></i>
                            <span style="font-weight: 600;">LINEï¼š@931aeinu</span>
                            <button id="copyLineId" style="background: linear-gradient(45deg, #00c851, #00a085); color: white; border: none; padding: 0.3rem 0.7rem; border-radius: 12px; cursor: pointer; font-size: 0.8rem; margin-left: auto; transition: all 0.3s ease;" title="è¤‡è£½ LINE ID">
                                <i class="bi bi-copy"></i> è¤‡è£½
                            </button>
                        </p>
                    </div>
                    <div style="display: flex; gap: 0.8rem; flex-wrap: wrap; margin-top: auto; padding-top: 1rem;">
                        <a href="tel:0928776755" style="background: linear-gradient(45deg, #667eea, #764ba2); color: white; border: none; padding: 0.6rem 1.2rem; border-radius: 20px; text-decoration: none; font-weight: 600; display: inline-flex; align-items: center; gap: 0.4rem; transition: all 0.3s ease; box-shadow: 0 3px 12px rgba(102, 126, 234, 0.3); flex: 1; justify-content: center; font-size: 0.85rem;">
                            <i class="bi bi-telephone-outbound-fill"></i> ç«‹å³ä¾†é›»
                        </a>
                        <a href="https://lin.ee/Lax7jMka" target="_blank" style="background: linear-gradient(45deg, #00c851, #00a085); color: white; border: none; padding: 0.6rem 1.2rem; border-radius: 20px; text-decoration: none; font-weight: 600; display: inline-flex; align-items: center; gap: 0.4rem; transition: all 0.3s ease; box-shadow: 0 3px 12px rgba(0, 200, 81, 0.3); flex: 1; justify-content: center; font-size: 0.85rem;">
                            <i class="fa-brands fa-line"></i> LINEè¯çµ¡
                        </a>
                    </div>
                </div>
                <div style="background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%); padding: 1.8rem; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border: 1px solid rgba(102, 126, 234, 0.1); position: relative; overflow: hidden;">
                    <div style="position: absolute; top: 0; left: 0; right: 0; height: 3px; background: linear-gradient(90deg, #667eea, #764ba2);"></div>
                    <h3 style="color: #2c3e50; margin-bottom: 1.2rem; font-size: 1.2rem; font-weight: 700; display: flex; align-items: center; gap: 0.4rem;">
                        <span style="background: linear-gradient(45deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ğŸ¢ ç¶“ç´€æ¥­è³‡è¨Š</span>
                    </h3>
                    <div>
                        <p style="margin-bottom: 0.6rem; font-size: 0.9rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.5rem; background: rgba(102, 126, 234, 0.05); border-radius: 6px;">
                            <i class="bi bi-buildings" style="color: #667eea; font-size: 1rem;"></i>
                            <span style="font-weight: 600;">å…¬å¸ï¼šå¸¸é´»æ‚¦è±ä¼æ¥­ç¤¾</span>
                        </p>
                        <p style="margin-bottom: 0.6rem; font-size: 0.9rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.5rem; background: rgba(102, 126, 234, 0.05); border-radius: 6px;">
                            <i class="bi bi-person-badge-fill" style="color: #667eea; font-size: 1rem;"></i>
                            <span style="font-weight: 600;">ç‡Ÿæ¥­å“¡ï¼šè”¡æ–‡è±ªï¼ˆ112ï¼‰æ¡ƒå¸‚å­—ç¬¬432900è™Ÿ</span>
                        </p>
                        <p style="margin-bottom: 0.6rem; font-size: 0.9rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.5rem; background: rgba(102, 126, 234, 0.05); border-radius: 6px;">
                            <i class="bi bi-person-badge-fill" style="color: #667eea; font-size: 1rem;"></i>
                            <span style="font-weight: 600;">ç‡Ÿæ¥­å“¡ï¼šåŠ‰å­è²ï¼ˆ113ï¼‰æ¡ƒå¸‚å­—ç¬¬467056è™Ÿ</span>
                        </p>
                        <p style="margin-bottom: 0.6rem; font-size: 0.9rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.5rem; background: rgba(102, 126, 234, 0.05); border-radius: 6px;">
                            <i class="bi bi-person-vcard-fill" style="color: #667eea; font-size: 1rem;"></i>
                            <span style="font-weight: 600;">ç¶“ç´€äººï¼šè‘‰éœè“‰ï¼ˆ104ï¼‰æ–°åŒ—ç¶“è­‰å­—ç¬¬003119è™Ÿ</span>
                        </p>
                        <p style="margin-bottom: 0.6rem; font-size: 0.9rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.5rem; background: rgba(102, 126, 234, 0.05); border-radius: 6px;">
                            <i class="bi bi-geo-alt-fill" style="color: #667eea; font-size: 1rem;"></i>
                            <span style="font-weight: 600;">æœå‹™æ“šé»ï¼šä½å•†ä¸å‹•ç”¢æ¥Šæ¢…å¤§é †åº—</span>
                        </p>
                        <p style="margin-bottom: 0.6rem; font-size: 0.9rem; display: flex; align-items: center; gap: 0.6rem; padding: 0.5rem; background: rgba(102, 126, 234, 0.05); border-radius: 6px;">
                            <i class="bi bi-clock-fill" style="color: #667eea; font-size: 1rem;"></i>
                            <span style="font-weight: 600;">ç‡Ÿæ¥­æ™‚é–“ï¼š09:00â€“21:00</span>
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- ç…§ç‰‡ç‡ˆç®± -->
    <div id="photoLightbox" class="photo-lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
            <button class="lightbox-nav lightbox-prev" onclick="previousImage()">â€¹</button>
            <button class="lightbox-nav lightbox-next" onclick="nextImage()">â€º</button>
            
            <img id="lightboxMainImage" class="lightbox-main-image" src="" alt="">
            
            <div class="lightbox-thumbnails" id="lightboxThumbnails">
                <!-- ç¸®åœ–æœƒç”±JavaScriptå‹•æ…‹ç”Ÿæˆ -->
            </div>
            
            <div class="lightbox-info">
                <h3 id="lightboxTitle"></h3>
                <p id="lightboxCounter"></p>
            </div>
        </div>
    </div>
    
    <!-- è²¸æ¬¾è©¦ç®—å½ˆçª— -->
    <div id="loanModal" class="loan-modal">
        <div class="loan-modal-content">
            <div class="loan-modal-header">
                <div class="loan-modal-title">
                    <span class="text-2xl mr-3">ğŸ§®</span>
                    è²·æ–¹è²»ç”¨ä¼°ç®—
                </div>
                <span class="loan-modal-close" onclick="closeLoanModal()">&times;</span>
            </div>
            <div class="loan-modal-body">
                <div class="loan-modal-grid">
                    <!-- è¼¸å…¥å€åŸŸ -->
                    <div class="loan-input-section">
                        <h3 style="color: #10b981; font-weight: bold; margin-bottom: 0.8rem; font-size: 0.9rem;">ğŸ“ è¼¸å…¥åƒæ•¸</h3>
                        
                        <div class="loan-input-group">
                            <label class="loan-input-label">æˆ¿å±‹ç¸½åƒ¹ (è¬å…ƒ)</label>
                            <input type="number" id="modalHousePrice" class="loan-input" placeholder="ä¾‹å¦‚ï¼š896" value="896">
                        </div>
                        
                        <div class="loan-input-group">
                            <label class="loan-input-label">è²¸æ¬¾æˆæ•¸ (%)</label>
                            <input type="range" id="modalLoanRatio" min="40" max="85" value="80" class="loan-slider">
                            <div class="loan-slider-value" id="modalLoanRatioValue">80%</div>
                        </div>
                        
                        <div class="loan-input-group">
                            <label class="loan-input-label">è²¸æ¬¾å¹´é™ (å¹´)</label>
                            <input type="range" id="modalLoanYears" min="0" max="40" value="40" class="loan-slider">
                            <div class="loan-slider-value" id="modalLoanYearsValue">40å¹´</div>
                        </div>
                        
                        <div class="loan-input-group">
                            <label class="loan-input-label">è²¸æ¬¾åˆ©ç‡ (%)</label>
                            <input type="range" id="modalInterestRate" min="0.5" max="5" step="0.1" value="2.1" class="loan-slider">
                            <div class="loan-slider-value" id="modalInterestRateValue">2.1%</div>
                        </div>
                        
                        <div class="loan-input-group">
                            <label class="loan-input-label">åä¸‹æœ‰ç„¡å…¶ä»–æˆ¿è²¸</label>
                            <select id="modalExistingLoan" class="loan-input" onchange="adjustLoanConditions()">
                                <option value="none">ç„¡å…¶ä»–æˆ¿è²¸ (é¦–è³¼)</option>
                                <option value="existing">æœ‰å…¶ä»–æˆ¿è²¸ (ç¬¬äºŒæˆ¶)</option>
                                <option value="youth">æ–°é’å®‰è²¸æ¬¾ (é™1000è¬)</option>
                            </select>
                        </div>
                        
                        <div class="loan-input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; margin-bottom: 0.8rem;">
                            <div class="loan-input-group">
                                <label class="loan-input-label">å¯¬é™æœŸ (å¹´)</label>
                                <select id="modalGracePeriod" class="loan-input">
                                    <option value="0">ç„¡å¯¬é™æœŸ</option>
                                    <option value="1">1å¹´</option>
                                    <option value="2">2å¹´</option>
                                    <option value="3">3å¹´</option>
                                    <option value="5" selected>æ–°é’å®‰ 5å¹´</option>
                                </select>
                            </div>
                            
                            <div class="loan-input-group">
                                <label class="loan-input-label">é‚„æ¬¾æ–¹å¼</label>
                                <select id="modalRepaymentType" class="loan-input">
                                    <option value="equal_payment">ç­‰é¡æœ¬æ¯</option>
                                    <option value="equal_principal">ç­‰é¡æœ¬é‡‘</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="loan-input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; margin-bottom: 0.8rem;">
                            <div class="loan-input-group">
                                <label class="loan-input-label">ä»£æ›¸è²»+å¥‘ç¨… (å…ƒ)</label>
                                <input type="number" id="modalServiceFee" class="loan-input" placeholder="100000" value="100000">
                            </div>
                            
                            <div class="loan-input-group">
                                <label class="loan-input-label">ä»£æ›¸æ½¤ç­†è²» (å…ƒ)</label>
                                <input type="number" id="modalNotaryFee" class="loan-input" placeholder="2000" value="2000">
                            </div>
                        </div>
                        
                        <div class="loan-input-group">
                            <label class="loan-input-label">ä»²ä»‹è²» (%)</label>
                            <input type="range" id="modalAgentFee" min="0" max="2" step="0.1" value="2" class="loan-slider">
                            <div class="loan-slider-value" id="modalAgentFeeValue">2%</div>
                        </div>
                        
                        <div class="loan-input-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.8rem; margin-bottom: 0.8rem;">
                            <div class="loan-input-group">
                                <label class="loan-input-label">æœˆæ”¶å…¥ (è¬å…ƒ)</label>
                                <input type="number" id="modalMonthlyIncome" class="loan-input" placeholder="ä¾‹å¦‚ï¼š8" value="8">
                            </div>
                            
                            <div class="loan-input-group">
                                <label class="loan-input-label">å…¶ä»–æœˆæ”¯å‡º (è¬å…ƒ)</label>
                                <input type="number" id="modalOtherExpenses" class="loan-input" placeholder="ä¾‹å¦‚ï¼š2" value="2">
                            </div>
                        </div>
                        
                        <div class="loan-input-group">
                            <div style="text-align: center; color: #10b981; font-size: 0.8rem; font-weight: 500;">
                                ğŸ’¡ æ‰€æœ‰åƒæ•¸å³æ™‚è¨ˆç®—ï¼Œç„¡éœ€é»æ“ŠæŒ‰éˆ•
                            </div>
                        </div>
                    </div>
                    
                    <!-- çµæœå€åŸŸ -->
                    <div class="loan-result-section">
                        <h3 style="color: #10b981; font-weight: bold; margin-bottom: 0.8rem; font-size: 0.9rem;">ğŸ“Š è¨ˆç®—çµæœ</h3>
                        <div id="modalLoanResults">
                            <div class="text-center text-gray-500 py-4">
                                <div class="text-2xl mb-1">ğŸ“Š</div>
                                <p class="text-xs">è«‹è¼¸å…¥æˆ¿å±‹åƒ¹æ ¼é–‹å§‹è¨ˆç®—</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // æ·»åŠ ä¸€äº›äº’å‹•æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            // æ»¾å‹•å‹•ç•«æ•ˆæœ
            const cards = document.querySelectorAll('.property-card, .info-card');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });
            
            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
            
            // é»æ“ŠæŒ‰éˆ•æ•ˆæœ
            const buttons = document.querySelectorAll('.contact-button');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1.05)';
                    }, 100);
                });
            });
        });
        
        // è²¸æ¬¾è©¦ç®—å½ˆçª—åŠŸèƒ½
        function openLoanModal(propertyPrice = 896, monthlyIncome = 8) {
            try {
                console.log('é–‹å•Ÿè²¸æ¬¾è©¦ç®—å½ˆçª—');
                document.getElementById('loanModal').style.display = 'block';
                document.body.style.overflow = 'hidden'; // é˜²æ­¢èƒŒæ™¯æ»¾å‹•
                
                // è¨­ç½®é è¨­å€¼
                document.getElementById('modalHousePrice').value = propertyPrice;
                document.getElementById('modalMonthlyIncome').value = monthlyIncome;
                
                // é‡æ–°ç¶å®šæ»‘æ¡¿äº‹ä»¶
                setTimeout(() => {
                    bindSliderEvents();
                    bindInputEvents(); // ç¶å®šè¼¸å…¥æ¡†äº‹ä»¶
                    calculateModalLoan(); // ç«‹å³è¨ˆç®—ä¸€æ¬¡é¡¯ç¤ºçµæœ
                }, 100);
            } catch (error) {
                console.error('å½ˆçª—é–‹å•ŸéŒ¯èª¤:', error);
                alert('å½ˆçª—é–‹å•Ÿå¤±æ•—ï¼Œè«‹æª¢æŸ¥æ§åˆ¶å°éŒ¯èª¤è¨Šæ¯');
            }
        }
        
        
        function closeLoanModal() {
            document.getElementById('loanModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // æ¢å¾©èƒŒæ™¯æ»¾å‹•
        }
        
        // é»æ“Šå½ˆçª—å¤–éƒ¨é—œé–‰
        window.onclick = function(event) {
            const modal = document.getElementById('loanModal');
            if (event.target === modal) {
                closeLoanModal();
            }
        }
        
        // æ»‘æ¡¿å€¼æ›´æ–° - ç¢ºä¿åœ¨DOMè¼‰å…¥å¾Œç¶å®š
        function bindSliderEvents() {
            const loanRatioSlider = document.getElementById('modalLoanRatio');
            const loanYearsSlider = document.getElementById('modalLoanYears');
            const interestRateSlider = document.getElementById('modalInterestRate');
            
            if (loanRatioSlider) {
                loanRatioSlider.addEventListener('input', function() {
                    document.getElementById('modalLoanRatioValue').textContent = this.value + '%';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                    // å¦‚æœæ˜¯æ–°é’å®‰è²¸æ¬¾ï¼Œé‡æ–°æª¢æŸ¥æ˜¯å¦éœ€è¦é¡¯ç¤ºä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š
                    if (document.getElementById('modalExistingLoan').value === 'youth') {
                        showYouthLoanNotice();
                    }
                });
                loanRatioSlider.addEventListener('change', function() {
                    document.getElementById('modalLoanRatioValue').textContent = this.value + '%';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                    // å¦‚æœæ˜¯æ–°é’å®‰è²¸æ¬¾ï¼Œé‡æ–°æª¢æŸ¥æ˜¯å¦éœ€è¦é¡¯ç¤ºä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š
                    if (document.getElementById('modalExistingLoan').value === 'youth') {
                        showYouthLoanNotice();
                    }
                });
            }
            
            if (loanYearsSlider) {
                loanYearsSlider.addEventListener('input', function() {
                    document.getElementById('modalLoanYearsValue').textContent = this.value + 'å¹´';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                });
                loanYearsSlider.addEventListener('change', function() {
                    document.getElementById('modalLoanYearsValue').textContent = this.value + 'å¹´';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                });
            }
            
            if (interestRateSlider) {
                interestRateSlider.addEventListener('input', function() {
                    document.getElementById('modalInterestRateValue').textContent = this.value + '%';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                });
                interestRateSlider.addEventListener('change', function() {
                    document.getElementById('modalInterestRateValue').textContent = this.value + '%';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                });
            }
        }
        
        // é©—è­‰è¨ˆç®—æº–ç¢ºæ€§çš„æ¸¬è©¦å‡½æ•¸
        function validateLoanCalculation() {
            // æ¸¬è©¦æ¡ˆä¾‹1ï¼šç„¡å¯¬é™æœŸï¼Œæ¨™æº–è¨ˆç®—
            console.log("=== è²¸æ¬¾è¨ˆç®—é©—è­‰æ¸¬è©¦ ===");
            
            // æ¸¬è©¦æ•¸æ“š
            const testCases = [
                {
                    name: "æ¨™æº–æ¡ˆä¾‹ï¼šç„¡å¯¬é™æœŸ",
                    housePrice: 1500, // è¬å…ƒ
                    loanRatio: 80,    // %
                    loanYears: 20,    // å¹´
                    interestRate: 2.1, // %
                    gracePeriod: 0,   // å¹´
                    expectedMonthlyPayment: 7628, // é æœŸæœˆä»˜ç´„7628å…ƒ
                },
                {
                    name: "å¯¬é™æœŸæ¡ˆä¾‹ï¼š3å¹´å¯¬é™æœŸ",
                    housePrice: 1500,
                    loanRatio: 80,
                    loanYears: 20,
                    interestRate: 2.1,
                    gracePeriod: 3,
                    expectedGracePayment: 2100, // é æœŸå¯¬é™æœŸæœˆä»˜ç´„2100å…ƒ
                },
                {
                    name: "æ–°é’å®‰æ¡ˆä¾‹ï¼š5å¹´å¯¬é™æœŸ",
                    housePrice: 1500,
                    loanRatio: 80,
                    loanYears: 30,
                    interestRate: 2.1,
                    gracePeriod: 5,
                    expectedGracePayment: 2100, // é æœŸå¯¬é™æœŸæœˆä»˜ç´„2100å…ƒ
                }
            ];
            
            testCases.forEach(testCase => {
                console.log(`\næ¸¬è©¦ï¼š${testCase.name}`);
                
                // è¨­ç½®æ¸¬è©¦æ•¸æ“š
                document.getElementById('modalHousePrice').value = testCase.housePrice;
                document.getElementById('modalLoanRatio').value = testCase.loanRatio;
                document.getElementById('modalLoanYears').value = testCase.loanYears;
                document.getElementById('modalInterestRate').value = testCase.interestRate;
                document.getElementById('modalGracePeriod').value = testCase.gracePeriod;
                
                // åŸ·è¡Œè¨ˆç®—
                calculateModalLoan();
                
                console.log("æ¸¬è©¦å®Œæˆï¼Œè«‹æª¢æŸ¥çµæœæ˜¯å¦åˆç†");
            });
        }
        
        // æ ¹æ“šè²¸æ¬¾ç‹€æ³èª¿æ•´è²¸æ¬¾æ¢ä»¶
        function adjustLoanConditions() {
            const existingLoan = document.getElementById('modalExistingLoan').value;
            const loanRatioSlider = document.getElementById('modalLoanRatio');
            const gracePeriodSelect = document.getElementById('modalGracePeriod');
            const interestRateSlider = document.getElementById('modalInterestRate');
            
            if (existingLoan === 'existing') {
                // ç¬¬äºŒæˆ¶è²¸æ¬¾ï¼šé™åˆ¶è²¸æ¬¾æˆæ•¸50%ï¼Œå–æ¶ˆå¯¬é™æœŸ
                loanRatioSlider.max = 50;
                loanRatioSlider.value = Math.min(loanRatioSlider.value, 50);
                document.getElementById('modalLoanRatioValue').textContent = loanRatioSlider.value + '%';
                
                gracePeriodSelect.value = '0'; // å¼·åˆ¶è¨­ç‚ºç„¡å¯¬é™æœŸ
                
                // æ¢å¾©ä¸€èˆ¬åˆ©ç‡ç¯„åœ
                interestRateSlider.min = 1.5;
                interestRateSlider.max = 5;
                interestRateSlider.value = Math.max(interestRateSlider.value, 1.5);
                document.getElementById('modalInterestRateValue').textContent = interestRateSlider.value + '%';
                
                // é¡¯ç¤ºæ”¿ç­–æé†’
                showPolicyNotice('ç¬¬äºŒæˆ¶æˆ¿è²¸é™åˆ¶ï¼šè²¸æ¬¾æˆæ•¸æœ€é«˜50%ï¼Œç„¡å¯¬é™æœŸ');
                
            } else if (existingLoan === 'youth') {
                // æ–°é’å®‰è²¸æ¬¾ï¼šé™åˆ¶1000è¬é¡åº¦ï¼Œå„ªæƒ åˆ©ç‡ï¼Œ5å¹´å¯¬é™æœŸ
                loanRatioSlider.max = 80;
                loanRatioSlider.value = Math.min(loanRatioSlider.value, 80);
                document.getElementById('modalLoanRatioValue').textContent = loanRatioSlider.value + '%';
                
                gracePeriodSelect.value = '5'; // å¼·åˆ¶è¨­ç‚ºæ–°é’å®‰5å¹´å¯¬é™æœŸ
                
                // è¨­ç½®æ–°é’å®‰å„ªæƒ åˆ©ç‡ç¯„åœ (åŸºæº–åˆ©ç‡+0.555%-æ”¿åºœè£œè²¼2ç¢¼)
                interestRateSlider.min = 1.2;
                interestRateSlider.max = 2.0;
                interestRateSlider.value = 1.8; // é è¨­æ–°é’å®‰å„ªæƒ åˆ©ç‡
                document.getElementById('modalInterestRateValue').textContent = interestRateSlider.value + '%';
                
                // é¡¯ç¤ºæ–°é’å®‰æ”¿ç­–æé†’å’Œä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š
                showYouthLoanNotice();
                
            } else {
                // é¦–è³¼ï¼šæ¢å¾©æ­£å¸¸æ¢ä»¶
                loanRatioSlider.max = 85;
                loanRatioSlider.value = Math.min(loanRatioSlider.value, 85);
                document.getElementById('modalLoanRatioValue').textContent = loanRatioSlider.value + '%';
                
                gracePeriodSelect.value = '5'; // æ¢å¾©æ–°é’å®‰5å¹´å¯¬é™æœŸ
                
                // æ¢å¾©ä¸€èˆ¬åˆ©ç‡ç¯„åœ
                interestRateSlider.min = 1.5;
                interestRateSlider.max = 5;
                interestRateSlider.value = Math.max(interestRateSlider.value, 1.5);
                document.getElementById('modalInterestRateValue').textContent = interestRateSlider.value + '%';
                
                // éš±è—æ”¿ç­–æé†’
                hidePolicyNotice();
            }
            
            // é‡æ–°è¨ˆç®—
            calculateModalLoan();
        }
        
        // é¡¯ç¤ºæ”¿ç­–æé†’
        function showPolicyNotice(message) {
            let notice = document.getElementById('policyNotice');
            if (!notice) {
                notice = document.createElement('div');
                notice.id = 'policyNotice';
                notice.style.cssText = `
                    background: linear-gradient(135deg, #fef3c7, #fde68a);
                    border: 1px solid #f59e0b;
                    border-radius: 6px;
                    padding: 0.6rem;
                    margin: 0.6rem 0;
                    font-size: 0.8rem;
                    color: #92400e;
                    text-align: center;
                    animation: fadeIn 0.3s ease-in;
                `;
                
                // æ’å…¥åˆ°å¯¬é™æœŸé¸æ“‡æ¡†ä¹‹å¾Œ
                const gracePeriodGroup = document.querySelector('#modalGracePeriod').closest('div[style*="grid-template-columns"]');
                gracePeriodGroup.parentNode.insertBefore(notice, gracePeriodGroup.nextSibling);
            }
            notice.textContent = 'âš ï¸ ' + message;
            notice.style.display = 'block';
        }
        
        // éš±è—æ”¿ç­–æé†’
        function hidePolicyNotice() {
            const notice = document.getElementById('policyNotice');
            if (notice) {
                notice.style.display = 'none';
            }
            // åŒæ™‚éš±è—æ–°é’å®‰ä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š
            const youthRateSetting = document.getElementById('youthNormalRateSetting');
            if (youthRateSetting) {
                youthRateSetting.style.display = 'none';
            }
        }
        
        // é¡¯ç¤ºæ–°é’å®‰è²¸æ¬¾æé†’å’Œä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š
        function showYouthLoanNotice() {
            showPolicyNotice('æ–°é’å®‰è²¸æ¬¾ï¼šå‰1000è¬äº«å„ªæƒ åˆ©ç‡1.8%ï¼Œè¶…ééƒ¨åˆ†é©ç”¨ä¸€èˆ¬åˆ©ç‡ï¼Œå„ªæƒ è‡³2026/7/31');
            
            // å‰µå»ºæˆ–é¡¯ç¤ºä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®šå€åŸŸ
            let youthRateSetting = document.getElementById('youthNormalRateSetting');
            if (!youthRateSetting) {
                youthRateSetting = document.createElement('div');
                youthRateSetting.id = 'youthNormalRateSetting';
                youthRateSetting.style.cssText = `
                    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
                    border: 1px solid #2196f3;
                    border-radius: 6px;
                    padding: 0.8rem;
                    margin: 0.6rem 0;
                    font-size: 0.85rem;
                    color: #0d47a1;
                    animation: fadeIn 0.3s ease-in;
                `;
                
                // æ’å…¥åˆ°æ”¿ç­–æé†’ä¹‹å¾Œ
                const policyNotice = document.getElementById('policyNotice');
                if (policyNotice) {
                    policyNotice.parentNode.insertBefore(youthRateSetting, policyNotice.nextSibling);
                }
            }
            
            // ç²å–ç•¶å‰æˆ¿å±‹ç¸½åƒ¹å’Œè²¸æ¬¾æˆæ•¸ä¾†è¨ˆç®—æ˜¯å¦æœƒè¶…é1000è¬
            const housePrice = parseFloat(document.getElementById('modalHousePrice').value) * 10000;
            const loanRatio = parseFloat(document.getElementById('modalLoanRatio').value) / 100;
            const totalLoanAmount = housePrice * loanRatio;
            const normalLoanAmount = Math.max(0, totalLoanAmount - 10000000);
            
            if (normalLoanAmount > 0) {
                const normalLoanAmountWan = Math.round(normalLoanAmount / 10000);
                youthRateSetting.innerHTML = `
                    <div style="display: flex; align-items: center; margin-bottom: 0.5rem;">
                        <span style="margin-right: 0.5rem;">ğŸ’°</span>
                        <strong>è¶…é1000è¬éƒ¨åˆ† (${normalLoanAmountWan}è¬å…ƒ) ä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š</strong>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; align-items: center;">
                        <label style="font-size: 0.8rem;">ä¸€èˆ¬è²¸æ¬¾åˆ©ç‡ï¼š</label>
                        <div style="display: flex; align-items: center; gap: 0.3rem;">
                            <input type="range" id="normalLoanRate" min="2.0" max="4.0" step="0.1" value="2.8" 
                                   style="flex: 1; height: 4px; border-radius: 2px; background: #e0e0e0; outline: none; cursor: pointer;">
                            <span id="normalLoanRateValue" style="font-weight: bold; min-width: 3rem; text-align: center;">2.8%</span>
                        </div>
                    </div>
                    <div style="font-size: 0.75rem; margin-top: 0.3rem; color: #666;">
                        ğŸ’¡ è¶…é1000è¬çš„éƒ¨åˆ†å°‡ä½¿ç”¨æ­¤åˆ©ç‡è¨ˆç®—
                    </div>
                `;
                youthRateSetting.style.display = 'block';
                
                // ç¶å®šä¸€èˆ¬è²¸æ¬¾åˆ©ç‡æ»‘æ¡¿äº‹ä»¶
                setTimeout(() => {
                    const normalRateSlider = document.getElementById('normalLoanRate');
                    const normalRateValue = document.getElementById('normalLoanRateValue');
                    
                    if (normalRateSlider && normalRateValue) {
                        normalRateSlider.addEventListener('input', function() {
                            normalRateValue.textContent = this.value + '%';
                            calculateModalLoan(); // é‡æ–°è¨ˆç®—
                        });
                    }
                }, 100);
            } else {
                youthRateSetting.style.display = 'none';
            }
        }
        
        // ç¶å®šè¼¸å…¥æ¡†äº‹ä»¶
        function bindInputEvents() {
            // æˆ¿å±‹ç¸½åƒ¹
            const housePriceInput = document.getElementById('modalHousePrice');
            if (housePriceInput) {
                housePriceInput.addEventListener('input', function() {
                    calculateModalLoan();
                    // å¦‚æœæ˜¯æ–°é’å®‰è²¸æ¬¾ï¼Œé‡æ–°æª¢æŸ¥æ˜¯å¦éœ€è¦é¡¯ç¤ºä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š
                    if (document.getElementById('modalExistingLoan').value === 'youth') {
                        showYouthLoanNotice();
                    }
                });
                housePriceInput.addEventListener('change', function() {
                    calculateModalLoan();
                    // å¦‚æœæ˜¯æ–°é’å®‰è²¸æ¬¾ï¼Œé‡æ–°æª¢æŸ¥æ˜¯å¦éœ€è¦é¡¯ç¤ºä¸€èˆ¬è²¸æ¬¾åˆ©ç‡è¨­å®š
                    if (document.getElementById('modalExistingLoan').value === 'youth') {
                        showYouthLoanNotice();
                    }
                });
            }
            
            // å¯¬é™æœŸä¸‹æ‹‰é¸å–®
            const gracePeriodSelect = document.getElementById('modalGracePeriod');
            if (gracePeriodSelect) {
                gracePeriodSelect.addEventListener('change', calculateModalLoan);
            }
            
            // ä»£æ›¸è²»+å¥‘ç¨…
            const serviceFeeInput = document.getElementById('modalServiceFee');
            if (serviceFeeInput) {
                serviceFeeInput.addEventListener('input', calculateModalLoan);
                serviceFeeInput.addEventListener('change', calculateModalLoan);
            }
            
            // ä»£æ›¸æ½¤ç­†è²»
            const notaryFeeInput = document.getElementById('modalNotaryFee');
            if (notaryFeeInput) {
                notaryFeeInput.addEventListener('input', calculateModalLoan);
                notaryFeeInput.addEventListener('change', calculateModalLoan);
            }
            
            // ä»²ä»‹è²»æ»‘æ¡¿
            const agentFeeSlider = document.getElementById('modalAgentFee');
            if (agentFeeSlider) {
                agentFeeSlider.addEventListener('input', function() {
                    document.getElementById('modalAgentFeeValue').textContent = this.value + '%';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                });
                agentFeeSlider.addEventListener('change', function() {
                    document.getElementById('modalAgentFeeValue').textContent = this.value + '%';
                    calculateModalLoan(); // å³æ™‚è¨ˆç®—
                });
            }
            
            // é‚„æ¬¾æ–¹å¼
            const repaymentTypeSelect = document.getElementById('modalRepaymentType');
            if (repaymentTypeSelect) {
                repaymentTypeSelect.addEventListener('change', calculateModalLoan);
            }
            
            // åä¸‹æœ‰ç„¡å…¶ä»–æˆ¿è²¸
            const existingLoanSelect = document.getElementById('modalExistingLoan');
            if (existingLoanSelect) {
                existingLoanSelect.addEventListener('change', adjustLoanConditions);
            }
            
            // æœˆæ”¶å…¥
            const monthlyIncomeInput = document.getElementById('modalMonthlyIncome');
            if (monthlyIncomeInput) {
                monthlyIncomeInput.addEventListener('input', calculateModalLoan);
                monthlyIncomeInput.addEventListener('change', calculateModalLoan);
            }
            
            // å…¶ä»–æœˆæ”¯å‡º
            const otherExpensesInput = document.getElementById('modalOtherExpenses');
            if (otherExpensesInput) {
                otherExpensesInput.addEventListener('input', calculateModalLoan);
                otherExpensesInput.addEventListener('change', calculateModalLoan);
            }
        }
        
        // è²¸æ¬¾è©¦ç®—è¨ˆç®—åŠŸèƒ½
        function calculateModalLoan() {
            const housePrice = parseFloat(document.getElementById('modalHousePrice').value) * 10000;
            const loanRatio = parseFloat(document.getElementById('modalLoanRatio').value) / 100;
            const loanYears = parseInt(document.getElementById('modalLoanYears').value);
            const interestRate = parseFloat(document.getElementById('modalInterestRate').value) / 100;
            const gracePeriod = parseInt(document.getElementById('modalGracePeriod').value) || 0;
            const serviceFee = parseFloat(document.getElementById('modalServiceFee').value) || 0;
            const notaryFee = parseFloat(document.getElementById('modalNotaryFee').value) || 0;
            const agentFeeRate = parseFloat(document.getElementById('modalAgentFee').value) || 0;
            const agentFee = housePrice * (agentFeeRate / 100); // ä»²ä»‹è²»æŒ‰æˆ¿å±‹ç¸½åƒ¹ç™¾åˆ†æ¯”è¨ˆç®—
            const repaymentType = document.getElementById('modalRepaymentType').value;
            const monthlyIncome = parseFloat(document.getElementById('modalMonthlyIncome').value) * 10000 || 0;
            const otherExpenses = parseFloat(document.getElementById('modalOtherExpenses').value) * 10000 || 0;
            const existingLoan = document.getElementById('modalExistingLoan').value;
            
            if (!housePrice || housePrice <= 0) {
                alert('è«‹è¼¸å…¥æœ‰æ•ˆçš„æˆ¿å±‹åƒ¹æ ¼');
                return;
            }
            
            // åŸºæœ¬è¨ˆç®—
            const loanAmount = housePrice * loanRatio;
            const downPayment = housePrice - loanAmount;
            
            // æ–°é’å®‰æ··åˆè²¸æ¬¾è¨ˆç®—
            let youthLoanAmount = 0;
            let normalLoanAmount = 0;
            let youthInterestRate = interestRate;
            let normalInterestRate = interestRate;
            
            if (existingLoan === 'youth') {
                // æ–°é’å®‰ï¼šå‰1000è¬äº«å„ªæƒ åˆ©ç‡ï¼Œè¶…ééƒ¨åˆ†ä¸€èˆ¬åˆ©ç‡
                youthLoanAmount = Math.min(loanAmount, 10000000);
                normalLoanAmount = Math.max(0, loanAmount - 10000000);
                youthInterestRate = 1.8 / 100; // æ–°é’å®‰å„ªæƒ åˆ©ç‡
                
                // ç²å–ç”¨æˆ¶è‡ªå®šç¾©çš„ä¸€èˆ¬è²¸æ¬¾åˆ©ç‡
                const normalRateSlider = document.getElementById('normalLoanRate');
                if (normalRateSlider && normalLoanAmount > 0) {
                    normalInterestRate = parseFloat(normalRateSlider.value) / 100;
                } else {
                    normalInterestRate = 2.8 / 100; // é è¨­ä¸€èˆ¬è²¸æ¬¾åˆ©ç‡
                }
            }
            
            // è²¸æ¬¾è¨ˆç®—ï¼ˆæœˆåˆ©ç‡ï¼‰
            const totalMonths = loanYears * 12;
            const graceMonths = gracePeriod * 12;
            const remainingMonths = totalMonths - graceMonths;
            
            // è¨ˆç®—æœˆä»˜é‡‘é¡
            let monthlyPayment = 0;
            let gracePayment = 0;
            let totalInterest = 0;
            
            if (existingLoan === 'youth' && normalLoanAmount > 0) {
                // æ··åˆè²¸æ¬¾ï¼šæ–°é’å®‰ + ä¸€èˆ¬è²¸æ¬¾
                const youthMonthlyRate = youthInterestRate / 12;
                const normalMonthlyRate = normalInterestRate / 12;
                
                // å¯¬é™æœŸå…§åªä»˜åˆ©æ¯
                const youthGracePayment = youthLoanAmount * youthMonthlyRate;
                const normalGracePayment = normalLoanAmount * normalMonthlyRate;
                gracePayment = youthGracePayment + normalGracePayment;
                
                // å¯¬é™æœŸå¾Œçš„æ­£å¸¸é‚„æ¬¾
                if (remainingMonths > 0) {
                    let youthMonthlyPayment = 0;
                    let normalMonthlyPayment = 0;
                    
                    if (repaymentType === 'equal_payment') {
                        // ç­‰é¡æœ¬æ¯å…¬å¼
                        if (youthLoanAmount > 0) {
                            youthMonthlyPayment = youthLoanAmount * (youthMonthlyRate * Math.pow(1 + youthMonthlyRate, remainingMonths)) / (Math.pow(1 + youthMonthlyRate, remainingMonths) - 1);
                        }
                        if (normalLoanAmount > 0) {
                            normalMonthlyPayment = normalLoanAmount * (normalMonthlyRate * Math.pow(1 + normalMonthlyRate, remainingMonths)) / (Math.pow(1 + normalMonthlyRate, remainingMonths) - 1);
                        }
                    } else {
                        // ç­‰é¡æœ¬é‡‘å…¬å¼ï¼ˆç¬¬ä¸€å€‹æœˆï¼‰
                        if (youthLoanAmount > 0) {
                            const youthMonthlyPrincipal = youthLoanAmount / remainingMonths;
                            youthMonthlyPayment = youthMonthlyPrincipal + youthLoanAmount * youthMonthlyRate;
                        }
                        if (normalLoanAmount > 0) {
                            const normalMonthlyPrincipal = normalLoanAmount / remainingMonths;
                            normalMonthlyPayment = normalMonthlyPrincipal + normalLoanAmount * normalMonthlyRate;
                        }
                    }
                    
                    monthlyPayment = youthMonthlyPayment + normalMonthlyPayment;
                } else {
                    monthlyPayment = gracePayment;
                }
                
                // æ­£ç¢ºçš„ç¸½åˆ©æ¯è¨ˆç®—
                const graceInterest = gracePayment * graceMonths;
                let normalPeriodTotalPayment = 0;
                
                if (repaymentType === 'equal_payment') {
                    // ç­‰é¡æœ¬æ¯ï¼šå›ºå®šæœˆä»˜ Ã— å‰©é¤˜æœˆæ•¸
                    normalPeriodTotalPayment = monthlyPayment * remainingMonths;
                } else {
                    // ç­‰é¡æœ¬é‡‘ï¼šé€æœˆè¨ˆç®—
                    if (youthLoanAmount > 0) {
                        const youthMonthlyPrincipal = youthLoanAmount / remainingMonths;
                        for (let i = 0; i < remainingMonths; i++) {
                            const youthRemainingPrincipal = youthLoanAmount - (youthMonthlyPrincipal * i);
                            normalPeriodTotalPayment += youthMonthlyPrincipal + (youthRemainingPrincipal * youthMonthlyRate);
                        }
                    }
                    if (normalLoanAmount > 0) {
                        const normalMonthlyPrincipal = normalLoanAmount / remainingMonths;
                        for (let i = 0; i < remainingMonths; i++) {
                            const normalRemainingPrincipal = normalLoanAmount - (normalMonthlyPrincipal * i);
                            normalPeriodTotalPayment += normalMonthlyPrincipal + (normalRemainingPrincipal * normalMonthlyRate);
                        }
                    }
                }
                
                totalInterest = graceInterest + (normalPeriodTotalPayment - loanAmount);
            } else {
                // å–®ä¸€åˆ©ç‡è²¸æ¬¾
                const monthlyRate = interestRate / 12;
                
                if (loanAmount > 0 && monthlyRate > 0) {
                    // å¯¬é™æœŸå…§åªä»˜åˆ©æ¯
                    gracePayment = loanAmount * monthlyRate;
                    
                    // å¯¬é™æœŸå¾Œçš„æ­£å¸¸é‚„æ¬¾
                    if (remainingMonths > 0) {
                        if (repaymentType === 'equal_payment') {
                            // ç­‰é¡æœ¬æ¯å…¬å¼
                            monthlyPayment = loanAmount * (monthlyRate * Math.pow(1 + monthlyRate, remainingMonths)) / (Math.pow(1 + monthlyRate, remainingMonths) - 1);
                        } else {
                            // ç­‰é¡æœ¬é‡‘å…¬å¼ï¼ˆç¬¬ä¸€å€‹æœˆï¼‰
                            const monthlyPrincipal = loanAmount / remainingMonths;
                            monthlyPayment = monthlyPrincipal + loanAmount * monthlyRate;
                        }
                    } else {
                        monthlyPayment = gracePayment;
                    }
                    
                    // æ­£ç¢ºçš„ç¸½åˆ©æ¯è¨ˆç®—
                    const graceInterest = gracePayment * graceMonths;
                    let normalPeriodTotalPayment = 0;
                    
                    if (repaymentType === 'equal_payment') {
                        // ç­‰é¡æœ¬æ¯ï¼šå›ºå®šæœˆä»˜ Ã— å‰©é¤˜æœˆæ•¸
                        normalPeriodTotalPayment = monthlyPayment * remainingMonths;
                    } else {
                        // ç­‰é¡æœ¬é‡‘ï¼šé€æœˆè¨ˆç®—
                        const monthlyPrincipal = loanAmount / remainingMonths;
                        for (let i = 0; i < remainingMonths; i++) {
                            const remainingPrincipal = loanAmount - (monthlyPrincipal * i);
                            normalPeriodTotalPayment += monthlyPrincipal + (remainingPrincipal * monthlyRate);
                        }
                    }
                    
                    totalInterest = graceInterest + (normalPeriodTotalPayment - loanAmount);
                }
            }
            
            
            // é›œé …è²»ç”¨è¨ˆç®—
            const totalFees = serviceFee + notaryFee + agentFee;
            
            // ç¸½æˆæœ¬è¨ˆç®—ï¼ˆåŒ…å«è‡ªå‚™æ¬¾å’Œé›œè²»ï¼‰
            const totalCost = downPayment + totalFees;
            
            // è² æ“”èƒ½åŠ›åˆ†æ
            const debtRatio = monthlyPayment / monthlyIncome; // è² å‚µæ¯”
            const availableIncome = monthlyIncome - otherExpenses; // å¯ç”¨æ”¶å…¥
            const affordabilityRatio = monthlyPayment / availableIncome; // æˆ¿è²¸è² æ“”æ¯”
            const recommendedIncome = monthlyPayment * 3; // å»ºè­°æœˆæ”¶å…¥ï¼ˆæˆ¿è²¸ä¸è¶…éæ”¶å…¥1/3ï¼‰
            const isAffordable = affordabilityRatio <= 0.5; // æ˜¯å¦è² æ“”å¾—èµ·ï¼ˆè² æ“”æ¯”ä¸è¶…é50%ï¼‰
            
            const results = `
                <div style="line-height: 1.3;">
                    <div class="loan-result-card" style="margin-bottom: 0.4rem;">
                        <div class="loan-result-title" style="margin-bottom: 0.4rem; font-size: 0.85rem;">ğŸ’° æˆ¿å±‹è³‡è¨Š</div>
                        <div class="loan-result-grid" style="gap: 0.2rem; font-size: 0.75rem;">
                            <div>ç¸½åƒ¹ï¼š</div><div class="font-semibold">${Math.round(housePrice / 10000)}è¬</div>
                            <div>è²¸æ¬¾ï¼š</div><div class="font-semibold text-blue-600">${Math.round(loanAmount / 10000)}è¬${existingLoan === 'youth' && normalLoanAmount > 0 ? ` (æ–°é’å®‰${Math.round(youthLoanAmount/10000)}è¬@${(youthInterestRate*100).toFixed(1)}%+ä¸€èˆ¬${Math.round(normalLoanAmount/10000)}è¬@${(normalInterestRate*100).toFixed(1)}%)` : existingLoan === 'youth' ? ' @1.8%' : ''}</div>
                            <div>æˆæ•¸ï¼š</div><div class="font-semibold">${(loanRatio * 100).toFixed(0)}%</div>
                            <div>è‡ªå‚™æ¬¾ï¼š</div><div class="font-semibold text-red-600">${Math.round(downPayment / 10000)}è¬</div>
                        </div>
                    </div>
                    
                    <div class="loan-result-card" style="margin-bottom: 0.4rem;">
                        <div class="loan-result-title" style="margin-bottom: 0.4rem; font-size: 0.85rem;">ğŸ¦ è²¸æ¬¾æ¢ä»¶</div>
                        <div class="loan-result-grid" style="gap: 0.2rem; font-size: 0.75rem;">
                            <div>å¹´é™ï¼š</div><div class="font-semibold">${loanYears}å¹´</div>
                            <div>åˆ©ç‡ï¼š</div><div class="font-semibold">${(interestRate * 100).toFixed(2)}%</div>
                            <div>é‚„æ¬¾ï¼š</div><div class="font-semibold">${repaymentType === 'equal_payment' ? 'ç­‰é¡æœ¬æ¯' : 'ç­‰é¡æœ¬é‡‘'}</div>
                            <div>å¯¬é™æœŸï¼š</div><div class="font-semibold">${gracePeriod > 0 ? (gracePeriod === 5 ? 'æ–°é’å®‰5å¹´' : `${gracePeriod}å¹´`) : 'ç„¡'}</div>
                            ${gracePeriod > 0 ? `<div>å¯¬é™æœŸæœˆä»˜ï¼š</div><div class="font-semibold text-green-600">${Math.round(gracePayment).toLocaleString()}å…ƒ</div>` : ''}
                            <div>æ­£å¸¸æœŸæœˆä»˜ï¼š</div><div class="font-semibold text-blue-600">${Math.round(monthlyPayment).toLocaleString()}å…ƒ</div>
                            <div>ç¸½åˆ©æ¯ï¼š</div><div class="font-semibold text-orange-600">${(totalInterest / 10000).toFixed(1)}è¬</div>
                        </div>
                    </div>
                    
                    <div class="loan-result-card" style="margin-bottom: 0.4rem;">
                        <div class="loan-result-title" style="margin-bottom: 0.4rem; font-size: 0.85rem;">ğŸ“‹ é›œé …è²»ç”¨</div>
                        <div class="loan-result-grid" style="gap: 0.2rem; font-size: 0.75rem;">
                            <div>ä»£æ›¸è²»+å¥‘ç¨…ï¼š</div><div class="font-semibold">${serviceFee.toLocaleString()}å…ƒ</div>
                            <div>è²¸æ›¸æ½¤ç­†è²»ï¼š</div><div class="font-semibold">${notaryFee.toLocaleString()}å…ƒ</div>
                            <div>ä»²ä»‹è²»(${agentFeeRate}%)ï¼š</div><div class="font-semibold">${Math.round(agentFee).toLocaleString()}å…ƒ</div>
                            <div class="font-bold">é›œè²»ç¸½è¨ˆï¼š</div><div class="font-bold text-red-600">${totalFees.toLocaleString()}å…ƒ</div>
                        </div>
                    </div>
                    
                    <div class="loan-result-row" style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.4rem; margin-bottom: 0.4rem;">
                        <div class="loan-result-highlight" style="padding: 0.6rem;">
                            <h3 style="font-size: 0.8rem; margin-bottom: 0.2rem;">ğŸ¯ è³¼å±‹è³‡é‡‘éœ€æ±‚</h3>
                            <div class="amount" style="font-size: 1.1rem;">${(totalCost / 10000).toFixed(1)}è¬</div>
                            <p style="opacity: 0.9; margin-top: 0.2rem; font-size: 0.7rem;">è‡ªå‚™æ¬¾+é›œè²»</p>
                        </div>
                        
                        <div class="loan-result-highlight" style="padding: 0.6rem;">
                            <h3 style="font-size: 0.8rem; margin-bottom: 0.2rem;">ğŸ’³ æ¯æœˆè² æ“”</h3>
                            <div class="amount" style="font-size: 1.1rem;">${Math.round(monthlyPayment).toLocaleString()}å…ƒ</div>
                            <p style="opacity: 0.9; margin-top: 0.2rem; font-size: 0.7rem;">${gracePeriod > 0 ? 'æ­£å¸¸æœŸæœˆä»˜' : 'æˆ¿è²¸æœˆä»˜'}</p>
                        </div>
                    </div>
                    
                    <div class="loan-result-card" style="margin-bottom: 0.4rem;">
                        <div class="loan-result-title" style="margin-bottom: 0.4rem; font-size: 0.85rem;">ğŸ“Š è² æ“”èƒ½åŠ›åˆ†æ</div>
                        <div class="loan-result-grid" style="gap: 0.2rem; font-size: 0.75rem;">
                            <div>è² å‚µæ¯”ï¼š</div><div class="font-semibold ${debtRatio > 0.3 ? 'text-red-600' : debtRatio > 0.2 ? 'text-orange-600' : 'text-green-600'}">${(debtRatio * 100).toFixed(1)}%</div>
                            <div>æˆ¿è²¸è² æ“”æ¯”ï¼š</div><div class="font-semibold ${affordabilityRatio > 0.5 ? 'text-red-600' : affordabilityRatio > 0.3 ? 'text-orange-600' : 'text-green-600'}">${(affordabilityRatio * 100).toFixed(1)}%</div>
                            <div>å»ºè­°æœˆæ”¶å…¥ï¼š</div><div class="font-semibold text-blue-600">${Math.round(recommendedIncome / 10000).toFixed(1)}è¬</div>
                            <div>è² æ“”è©•ä¼°ï¼š</div><div class="font-semibold ${isAffordable ? 'text-green-600' : 'text-red-600'}">${isAffordable ? 'âœ… å¯è² æ“”' : 'âš ï¸ è² æ“”éé‡'}</div>
                        </div>
                    </div>
                    
                </div>
            `;
            
            document.getElementById('modalLoanResults').innerHTML = results;
        }
        
        
        // æ€¥å”®å€’æ•¸è¨ˆæ™‚åŠŸèƒ½
        function updateUrgentCountdown() {
            // ç›´æ¥é¡¯ç¤ºã€Œä½è‡ªå‚™ã€ï¼Œä¸å†ä½¿ç”¨å€’æ•¸è¨ˆæ™‚
            document.getElementById('urgentCountdown').textContent = 'ä½è‡ªå‚™';
        }
        
        // é é¢è¼‰å…¥æ™‚å•Ÿå‹•å€’æ•¸è¨ˆæ™‚
        document.addEventListener('DOMContentLoaded', function() {
            // ç«‹å³æ›´æ–°ä¸€æ¬¡
            updateUrgentCountdown();
            
            // æ¯ç§’æ›´æ–°ä¸€æ¬¡
            setInterval(updateUrgentCountdown, 1000);
        });
        
        // è¤‡è£½ LINE ID åŠŸèƒ½
        document.getElementById('copyLineId').addEventListener('click', async ()=>{
            try {
                await navigator.clipboard.writeText('@931aeinu');
                alert('å·²è¤‡è£½ LINE IDï¼š@931aeinu');
            } catch(e) {
                // å‚™ç”¨æ–¹æ¡ˆï¼šä½¿ç”¨èˆŠçš„è¤‡è£½æ–¹æ³•
                const textArea = document.createElement('textarea');
                textArea.value = '@931aeinu';
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('å·²è¤‡è£½ LINE IDï¼š@931aeinu');
            }
        });

        // å®¢æˆ¶è¦‹è­‰è¼ªæ’­åŠŸèƒ½
        let currentTestimonialIndex = 0;
        const testimonialSlides = document.getElementById('testimonialSlides');
        const testimonialPrev = document.getElementById('testimonialPrev');
        const testimonialNext = document.getElementById('testimonialNext');
        const totalTestimonials = document.querySelectorAll('.testimonial-slide').length;

        function updateTestimonialCarousel() {
            testimonialSlides.style.transform = `translateX(-${currentTestimonialIndex * 100}%)`;
        }

        testimonialPrev.addEventListener('click', () => {
            currentTestimonialIndex = currentTestimonialIndex > 0 ? currentTestimonialIndex - 1 : totalTestimonials - 1;
            updateTestimonialCarousel();
        });

        testimonialNext.addEventListener('click', () => {
            currentTestimonialIndex = currentTestimonialIndex < totalTestimonials - 1 ? currentTestimonialIndex + 1 : 0;
            updateTestimonialCarousel();
        });

        // è‡ªå‹•æ’­æ”¾å®¢æˆ¶è¦‹è­‰
        setInterval(() => {
            currentTestimonialIndex = currentTestimonialIndex < totalTestimonials - 1 ? currentTestimonialIndex + 1 : 0;
            updateTestimonialCarousel();
        }, 5000);

        // ç…§ç‰‡ç‡ˆç®±åŠŸèƒ½
        let currentPhotoIndex = 0;
        let currentPhotoSet = '';
        let photoSets = {
            'property1': {
                images: [
                    { src: 'images/property3/å®¢å»³.jpg', title: 'å®¢å»³' },
                    { src: 'images/property3/å®¢å»³è¦–è§’2.jpg', title: 'å®¢å»³è¦–è§’2' },
                    { src: 'images/property3/å®¢å»³è¦–è§’3.jpg', title: 'å®¢å»³è¦–è§’3' },
                    { src: 'images/property3/å®¢å»³è¦–è§’4.jpg', title: 'å®¢å»³è¦–è§’4' },
                    { src: 'images/property3/ç„é—œ.jpg', title: 'ç„é—œ' },
                    { src: 'images/property3/ä¸»è‡¥æˆ¿.jpg', title: 'ä¸»è‡¥æˆ¿' },
                    { src: 'images/property3/ä¸»è‡¥æˆ¿2.jpg', title: 'ä¸»è‡¥æˆ¿2' },
                    { src: 'images/property3/æ¬¡è‡¥æˆ¿.jpg', title: 'æ¬¡è‡¥æˆ¿' },
                    { src: 'images/property3/è¡›æµ´.jpg', title: 'è¡›æµ´' },
                    { src: 'images/property3/é™½å°ç…§ç‰‡.jpg', title: 'é™½å°ç…§ç‰‡' },
                    { src: 'images/property3/é™½å°ç…§ç‰‡2.jpg', title: 'é™½å°ç…§ç‰‡2' },
                    { src: 'images/property3/æ ¼å±€åœ–.png', title: 'æ ¼å±€åœ–' }
                ]
            },
            'property2': {
                images: [
                    { src: 'images/property4/å®¢å»³.jpg', title: 'å®¢å»³' },
                    { src: 'images/property4/å®¢å»³1.jpg', title: 'å®¢å»³1' },
                    { src: 'images/property4/å®¢å»³2.jpg', title: 'å®¢å»³2' },
                    { src: 'images/property4/å»šæˆ¿.jpg', title: 'å»šæˆ¿' },
                    { src: 'images/property4/ä¸»è‡¥.jpg', title: 'ä¸»è‡¥' },
                    { src: 'images/property4/æ¬¡è‡¥æˆ¿.jpg', title: 'æ¬¡è‡¥æˆ¿' },
                    { src: 'images/property4/æ¬¡è‡¥æˆ¿2.jpg', title: 'æ¬¡è‡¥æˆ¿2' },
                    { src: 'images/property4/æ¬¡è‡¥æˆ¿3.jpg', title: 'æ¬¡è‡¥æˆ¿3' },
                    { src: 'images/property4/æ¬¡è‡¥æˆ¿-1.jpg', title: 'æ¬¡è‡¥æˆ¿-1' },
                    { src: 'images/property4/æ¬¡è‡¥æˆ¿-1-1.jpg', title: 'æ¬¡è‡¥æˆ¿-1-1' },
                    { src: 'images/property4/æ¬¡è‡¥æˆ¿2-1.jpg', title: 'æ¬¡è‡¥æˆ¿2-1' },
                    { src: 'images/property4/è¡›æµ´1.jpg', title: 'è¡›æµ´1' },
                    { src: 'images/property4/å»æ‰€.jpg', title: 'å»æ‰€' },
                    { src: 'images/property4/é™½å°.jpg', title: 'é™½å°' },
                    { src: 'images/property4/æ ¼å±€åœ–.jpg', title: 'æ ¼å±€åœ–' }
                ]
            }
        };
        
        function openLightbox(index, photoSet) {
            currentPhotoIndex = index;
            currentPhotoSet = photoSet;
            
            const lightbox = document.getElementById('photoLightbox');
            const mainImage = document.getElementById('lightboxMainImage');
            const title = document.getElementById('lightboxTitle');
            const counter = document.getElementById('lightboxCounter');
            const thumbnails = document.getElementById('lightboxThumbnails');
            
            // é¡¯ç¤ºç‡ˆç®±
            lightbox.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // æ›´æ–°ä¸»åœ–
            const currentPhoto = photoSets[photoSet].images[index];
            mainImage.src = currentPhoto.src;
            mainImage.alt = currentPhoto.title;
            
            // æ›´æ–°æ¨™é¡Œå’Œè¨ˆæ•¸å™¨
            title.textContent = currentPhoto.title;
            counter.textContent = `${index + 1} / ${photoSets[photoSet].images.length}`;
            
            // ç”Ÿæˆç¸®åœ–
            thumbnails.innerHTML = '';
            photoSets[photoSet].images.forEach((photo, i) => {
                const thumbnail = document.createElement('img');
                thumbnail.src = photo.src;
                thumbnail.alt = photo.title;
                thumbnail.className = 'lightbox-thumbnail';
                if (i === index) thumbnail.classList.add('active');
                thumbnail.onclick = () => switchToImage(i);
                thumbnails.appendChild(thumbnail);
            });
            
            // ç¶å®šéµç›¤äº‹ä»¶
            document.addEventListener('keydown', handleKeyPress);
        }
        
        function closeLightbox() {
            document.getElementById('photoLightbox').style.display = 'none';
            document.body.style.overflow = 'auto';
            document.removeEventListener('keydown', handleKeyPress);
        }
        
        function nextImage() {
            const totalImages = photoSets[currentPhotoSet].images.length;
            currentPhotoIndex = (currentPhotoIndex + 1) % totalImages;
            switchToImage(currentPhotoIndex);
        }
        
        function previousImage() {
            const totalImages = photoSets[currentPhotoSet].images.length;
            currentPhotoIndex = (currentPhotoIndex - 1 + totalImages) % totalImages;
            switchToImage(currentPhotoIndex);
        }
        
        function switchToImage(index) {
            currentPhotoIndex = index;
            const currentPhoto = photoSets[currentPhotoSet].images[index];
            
            // æ›´æ–°ä¸»åœ–
            document.getElementById('lightboxMainImage').src = currentPhoto.src;
            document.getElementById('lightboxTitle').textContent = currentPhoto.title;
            document.getElementById('lightboxCounter').textContent = `${index + 1} / ${photoSets[currentPhotoSet].images.length}`;
            
            // æ›´æ–°ç¸®åœ–æ´»å‹•ç‹€æ…‹
            const thumbnails = document.querySelectorAll('.lightbox-thumbnail');
            thumbnails.forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });
        }
        
        function handleKeyPress(event) {
            switch(event.key) {
                case 'Escape':
                    closeLightbox();
                    break;
                case 'ArrowLeft':
                    previousImage();
                    break;
                case 'ArrowRight':
                    nextImage();
                    break;
            }
        }
        
        // é»æ“Šç‡ˆç®±èƒŒæ™¯é—œé–‰
        document.getElementById('photoLightbox').addEventListener('click', function(event) {
            if (event.target === this) {
                closeLightbox();
            }
        });
    </script>
</body>
</html>