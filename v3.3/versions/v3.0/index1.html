<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥Šæ¢…è€€æ–°åŠ æ´²ç¤¾å€ - æ€¥å”®ç‰©ä»¶ | ä½å•†ä¸å‹•ç”¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 30px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="2" fill="rgba(255,255,255,0.1)"/></svg>') repeat;
            animation: float 20s infinite linear;
        }
        
        @keyframes float {
            0% { transform: translateX(-50px) translateY(-50px); }
            100% { transform: translateX(50px) translateY(50px); }
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }
        
        .urgent-banner {
            background: #e74c3c;
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: bold;
            font-size: 1.2rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .properties-section {
            padding: 3rem 2rem;
            background: #f8f9fa;
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .property-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 3px solid transparent;
            background-clip: padding-box;
        }
        
        .property-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border-color: #3498db;
        }
        
        .property-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 1rem;
            border-bottom: 3px solid #3498db;
            padding-bottom: 0.5rem;
        }
        
        .price-highlight {
            font-size: 2rem;
            color: #e74c3c;
            font-weight: bold;
            margin: 1rem 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .price-highlight span {
            font-size: 2rem;
        }
        
        .original-price {
            text-decoration: line-through;
            color: #7f8c8d;
            font-size: 1.2rem;
        }
        
        .features-list {
            list-style: none;
            margin: 1rem 0;
        }
        
        .features-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #ecf0f1;
            position: relative;
            padding-left: 2rem;
        }
        
        .features-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #27ae60;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .loan-info {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            text-align: center;
        }
        
        .commission-section {
            background: #34495e;
            color: white;
            padding: 2rem;
            text-align: center;
        }
        
        .commission-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .commission-card {
            background: rgba(255,255,255,0.1);
            padding: 1.5rem;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .info-section {
            padding: 2rem;
            background: white;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 1rem;
        }
        
        .info-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }
        
        .contact-section {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .contact-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="rgba(255,215,0,0.1)"/><circle cx="80" cy="80" r="1" fill="rgba(255,215,0,0.1)"/><circle cx="60" cy="30" r="1" fill="rgba(255,215,0,0.1)"/></svg>') repeat;
            animation: sparkle 3s infinite linear;
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }
        
        .contact-button {
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            color: #1a1a2e;
            padding: 1rem 2rem;
            border: 2px solid #ffd700;
            border-radius: 25px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 0.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
        }
        
        .contact-button::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(255,255,255,0.5) 50%, 
                transparent 70%);
            transform: rotate(45deg);
            transition: all 0.6s ease;
            opacity: 0;
        }
        
        .contact-button:hover::before {
            opacity: 1;
            animation: shine 1.5s ease-in-out infinite;
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .contact-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 30px rgba(255, 215, 0, 0.5);
            background: linear-gradient(45deg, #ffed4e, #ffd700, #ffed4e);
        }
        
        .schedule-table {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .schedule-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .schedule-table th,
        .schedule-table td {
            padding: 1rem;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .schedule-table th {
            background: #3498db;
            color: white;
        }
        
        /* è²¸æ¬¾è¨ˆç®—å™¨å½ˆè·³è¦–çª—æ¨£å¼ */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            animation: fadeIn 0.3s ease;
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            margin: auto;
            padding: 0;
            border: none;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: scale(0.8);
            animation: modalSlideIn 0.4s ease forwards;
        }
        
        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .close {
            color: white;
            font-size: 2rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease;
        }
        
        .close:hover {
            transform: scale(1.1);
        }
        
        .modal-body {
            padding: 2rem;
        }
        
        .calculator-form {
            display: grid;
            gap: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 0.5rem;
            font-size: 1rem;
        }
        
        .form-group input,
        .form-group select {
            padding: 0.8rem;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .calculator-button {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 1rem 0;
        }
        
        .calculator-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.3);
        }
        
        .results-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border-left: 5px solid #27ae60;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .result-item {
            background: white;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .result-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 0.5rem;
            word-break: break-all;
            line-height: 1.2;
        }
        
        .result-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .loan-calc-button {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem 0;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .loan-calc-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes modalSlideIn {
            to {
                transform: scale(1);
            }
        }
        
        /* æ–°é’å®‰æ”¶åˆæ¨£å¼ */
        #newGreenHeader:hover {
            background: rgba(39, 174, 96, 0.1);
        }
        
        #newGreenContent {
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        #newGreenToggle {
            transition: all 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .properties-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8rem;
                line-height: 1.2;
            }
            
            .header p {
                font-size: 0.9rem;
            }
            
            .urgent-banner {
                font-size: 1rem;
                padding: 0.8rem;
            }
            
            .property-card {
                padding: 1.2rem;
                margin-bottom: 1rem;
            }
            
            .property-title {
                font-size: 1.2rem;
                line-height: 1.3;
            }
            
            .price-highlight {
                font-size: 1.1rem;
                line-height: 1.3;
            }
            
            .price-highlight span {
                font-size: 1.1rem !important;
            }
            
            .features-list li {
                font-size: 0.9rem;
                padding: 0.4rem 0;
                padding-left: 1.5rem;
            }
            
            .loan-info {
                font-size: 0.9rem;
                padding: 0.8rem;
            }
            
            .info-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .info-card {
                padding: 1rem;
            }
            
            .info-card h3 {
                font-size: 1.1rem;
            }
            
            .schedule-table th,
            .schedule-table td {
                padding: 0.6rem;
                font-size: 0.85rem;
            }
            
            .commission-grid {
                grid-template-columns: 1fr;
                gap: 0.8rem;
            }
            
            .commission-card {
                padding: 1rem;
            }
            
            .contact-section {
                padding: 2rem 1rem;
            }
            
            .contact-section h2 {
                font-size: 1.5rem;
            }
            
            .contact-section h3 {
                font-size: 1.2rem;
                margin-top: 1.5rem;
            }
            
            .contact-button {
                font-size: 0.85rem;
                padding: 0.6rem 0.8rem;
                margin: 0.15rem;
                white-space: nowrap;
            }
            
            .contact-section p {
                font-size: 0.9rem !important;
                line-height: 1.4;
            }
            
            .contact-section > div {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 0.4rem;
                margin: 0.5rem 0;
            }
            
            .contact-section .contact-button {
                flex: 1 1 calc(50% - 0.2rem);
                min-width: 140px;
                max-width: 180px;
                text-align: center;
                font-size: 0.8rem;
                padding: 0.6rem 0.5rem;
                line-height: 1.2;
            }
            
            .contact-section > div:last-child {
                margin-top: 1.5rem;
            }
            
            .contact-section > div:last-child > div {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 0.4rem;
                text-align: center;
            }
            
            .contact-section > div:last-child > div > div {
                padding: 0.6rem;
                font-size: 0.9rem;
            }
            
            .contact-section > div:last-child > div > div > div {
                font-size: 1.5rem;
                margin-bottom: 0.2rem;
            }
            
            iframe {
                height: 250px;
                width: 100%;
                max-width: 500px;
            }
            
            .modal-content {
                width: 95%;
                margin: 1rem;
            }
            
            .modal-header {
                padding: 1rem 1.5rem;
            }
            
            .modal-header h2 {
                font-size: 1.3rem;
            }
            
            .modal-body {
                padding: 1.5rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
            
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.8rem;
            }
            
            .result-item {
                min-height: 70px;
                padding: 0.8rem;
            }
            
            .result-value {
                font-size: 1.1rem;
            }
            
            .result-label {
                font-size: 0.8rem;
            }
            
            #newGreenHeader {
                padding: 0.8rem 1rem;
            }
            
            #newGreenHeader h4 {
                font-size: 1rem;
            }
            
            #newGreenContent {
                padding: 0 1rem 1rem;
            }
            
            #newGreenContent div {
                grid-template-columns: 1fr;
                gap: 0.8rem;
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ğŸ  æ¥Šæ¢…è€€æ–°åŠ æ´²ç¤¾å€</h1>
            <p>å°ˆä»»æ€¥å”® | åŒæ¥­åˆä½œæ­¡è¿ | ç«åŠ›å…¨é–‹</p>
        </header>
        
        <div class="urgent-banner">
            âš¡ æ€¥å”®åƒ…2å¤© | å…¨å€æœ€ä½åƒ¹ | æ–¡æ—‹å„ªå…ˆ âš¡
        </div>
        
        <section class="properties-section">
            <h2 style="text-align: center; font-size: 2rem; color: #2c3e50; margin-bottom: 1rem;">å…©ä»¶éµç‚®ç‰©ä»¶</h2>
            
            <div class="properties-grid">
                <div class="property-card">
                    <h3 class="property-title">ğŸ  å’Œè€€æ–°åŠ å·ï½œ4æˆ¿2å»³2è¡›ï½œå–®è»Šä½</h3>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin: 1rem 0; font-size: 0.9rem;">
                        <strong>ğŸ“ åœ°å€ï¼š</strong>æ¥Šæ¢…å€æ–°è¾²è¡—ä¸€æ®µ233è™Ÿ<br>
                        <strong>ğŸ¢ ç¤¾å€ï¼š</strong>å…¨æ–°è½æˆæ­£å››æˆ¿+è»Šä½ (å’Œè€€æ–°åŠ å·)
                    </div>
                    <div class="price-highlight">
                        å”®åƒ¹ï¼š1,398è¬<br>
                        <span style="color: #27ae60;">åº•åƒ¹ï¼š1,340è¬ (å«4%)</span>
                    </div>
                    <ul class="features-list">
                        <li>4æˆ¿2å»³2è¡›æ ¼å±€</li>
                        <li>è¡›æµ´é›™é–‹çª—è¨­è¨ˆ</li>
                        <li>å¹³é¢å–®è»Šä½</li>
                        <li>ç¸½åªæ•¸50.29åª (å»ºç‰©24.91åª / åœŸåœ°æŒåˆ†7.89åª)</li>
                        <li>æ¨“å±¤å¾…ç¢ºèª / ç¸½æ¨“å±¤12æ¨“</li>
                        <li>å±‹é½¡ä¸åˆ°1å¹´ (2024.12.19å®Œå·¥)</li>
                        <li>å¤§å»ˆç®¡ç†</li>
                        <li>åº§å—æœåŒ— / æœ‰é›»æ¢¯</li>
                    </ul>
                    <div class="loan-info">
                        ğŸ’° å¯è²¸æ¬¾é¡åº¦ï¼š1,150è¬ - 1,210è¬
                    </div>
                    <button class="loan-calc-button" onclick="openLoanCalculator(1398, 'å–®è»Šä½')">
                        ğŸ’° è²¸æ¬¾è©¦ç®—
                    </button>
                    <div style="background: #e8f5e8; padding: 1rem; border-radius: 10px; margin-top: 1rem;">
                        <h4 style="color: #27ae60; margin-bottom: 0.5rem;">ğŸŒŸ ç”Ÿæ´»æ©Ÿèƒ½</h4>
                        <p style="font-size: 0.9rem; margin: 0;">
                            <strong>å­¸æ ¡ï¼š</strong>æ¥Šæ˜åœ‹ä¸­ã€æ¥Šæ˜åœ‹å°ã€æ¥Šæ¢…åœ‹å°<br>
                            <strong>äº¤é€šï¼š</strong>å°1ç·šã€æ¥Šæ¢…äº¤æµé“ã€äº”æ¥Šäº¤æµé“ã€æ¥Šæ¢…å€å…è²»å…¬è»Šã€æ¥Šæ¢…ç«è»Šç«™<br>
                            <strong>å…¬åœ’ï¼š</strong>æ¥Šæ¢…å¸‚å ´ã€é ­é‡æºªå…¬åœ’
                        </p>
                    </div>
                </div>
                
                <div class="property-card">
                    <h3 class="property-title">ğŸ  å’Œè€€æ–°åŠ å·ï½œ4æˆ¿2å»³2è¡›ï½œé›™è»Šä½</h3>
                    <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; margin: 1rem 0; font-size: 0.9rem;">
                        <strong>ğŸ“ åœ°å€ï¼š</strong>æ¥Šæ¢…å€æ–°è¾²è¡—ä¸€æ®µ233è™Ÿ3æ¨“<br>
                        <strong>ğŸ¢ ç¤¾å€ï¼š</strong>å…¨æ–°è½æˆæ­£å››æˆ¿+è»Šä½ (å’Œè€€æ–°åŠ å·)
                    </div>
                    <div class="price-highlight">
                        å”®åƒ¹ï¼š1,568è¬<br>
                        <span style="color: #27ae60;">åº•åƒ¹ï¼š1,480è¬ (å«4%)</span>
                    </div>
                    <ul class="features-list">
                        <li>4æˆ¿2å»³2è¡›æ ¼å±€</li>
                        <li>è¡›æµ´é›™é–‹çª—è¨­è¨ˆ</li>
                        <li>å¹³é¢é›™è»Šä½</li>
                        <li>ç¸½åªæ•¸50.29åª (å»ºç‰©24.91åª / åœŸåœ°æŒåˆ†7.89åª)</li>
                        <li>3æ¨“ / ç¸½æ¨“å±¤12æ¨“</li>
                        <li>å±‹é½¡ä¸åˆ°1å¹´ (2024.12.19å®Œå·¥)</li>
                        <li>å¤§å»ˆç®¡ç†</li>
                        <li>åº§å—æœåŒ— / æœ‰é›»æ¢¯</li>
                    </ul>
                    <div class="loan-info">
                        ğŸ’° å¯è²¸æ¬¾é¡åº¦ï¼š1,184è¬ - 1,258è¬
                    </div>
                    <button class="loan-calc-button" onclick="openLoanCalculator(1568, 'é›™è»Šä½')">
                        ğŸ’° è²¸æ¬¾è©¦ç®—
                    </button>
                    <div style="background: #e8f5e8; padding: 1rem; border-radius: 10px; margin-top: 1rem;">
                        <h4 style="color: #27ae60; margin-bottom: 0.5rem;">ğŸŒŸ ç”Ÿæ´»æ©Ÿèƒ½</h4>
                        <p style="font-size: 0.9rem; margin: 0;">
                            <strong>å­¸æ ¡ï¼š</strong>æ¥Šæ˜åœ‹ä¸­ã€æ¥Šæ˜åœ‹å°ã€æ¥Šæ¢…åœ‹å°<br>
                            <strong>äº¤é€šï¼š</strong>å°1ç·šã€æ¥Šæ¢…äº¤æµé“ã€äº”æ¥Šäº¤æµé“ã€æ¥Šæ¢…å€å…è²»å…¬è»Šã€æ¥Šæ¢…ç«è»Šç«™<br>
                            <strong>å…¬åœ’ï¼š</strong>æ¥Šæ¢…å¸‚å ´ã€é ­é‡æºªå…¬åœ’
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
        <section style="background: #f8f9fa; padding: 2rem; text-align: center;">
            <h2 style="color: #2c3e50; margin-bottom: 1rem;">ğŸ“ ç‰©ä»¶ä½ç½®</h2>
            <p style="color: #7f8c8d; margin-bottom: 1.5rem;">æ¥Šæ¢…å€æ–°è¾²è¡—ä¸€æ®µ233è™Ÿ - å’Œè€€æ–°åŠ å·ç¤¾å€</p>
            <div style="display: flex; justify-content: center; margin: 2rem 0;">
                <iframe src="https://www.google.com/maps/embed?pb=!4v1758340007781!6m8!1m7!1s7w1_fK5tL3RYWBpCpBwAwg!2m2!1d24.91222143626028!2d121.1724532961861!3f327.007695552005!4f17.133051009828563!5f0.7820865974627469" width="600" height="450" style="border:0; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </section>
        
        <section class="commission-section">
            <h2>ğŸ’¼ ä½£é‡‘åˆ†é…æ–¹æ¡ˆ</h2>
            <div class="commission-grid">
                <div class="commission-card">
                    <h3>åŒå€åŸŸä»‹ç´¹</h3>
                    <p>4/1/5 åˆ†é…</p>
                    <small>éŠ·å”®5 | ä»‹ç´¹1 | åŸé–‹ç™¼4</small>
                </div>
                <div class="commission-card">
                    <h3>ä»‹ç´¹å…¼éŠ·å”®</h3>
                    <p>6/4 åˆ†é…</p>
                    <small>æ›´å„ªæƒ çš„åˆ†é…æ¯”ä¾‹</small>
                </div>
                <div class="commission-card">
                    <h3>å¤–ç·šå¸‚å€å¤–</h3>
                    <p>4/2/4 åˆ†é…</p>
                    <small>å¤–åœ°åŒæ¥­åˆä½œæ–¹æ¡ˆ</small>
                </div>
            </div>
        </section>
        
        <section class="info-section">
            <h2 style="text-align: center; margin-bottom: 2rem; color: #2c3e50;">ğŸ“‹ é‡è¦è³‡è¨Š</h2>
            
            <div class="info-grid">
                <div class="info-card">
                    <h3>ğŸ”‘ çœ‹å±‹è³‡è¨Š</h3>
                    <p><strong>é‘°åŒ™åœ°é»ï¼š</strong>ä½å•†æ¥Šæ¢…å¤§é †åº—<br>
                    æ¥Šæ¢…å€æ¢…ç…è·¯äºŒæ®µ36è™Ÿ<br>
                    <strong>é›»å­é–ï¼š</strong>166666#<br>
                    <strong>åœè»Šï¼š</strong>åœ°ä¸‹å®¤å¯ç›´æ¥åœè»Š<br>
                    <strong>æ³¨æ„ï¼š</strong>17:00å¾Œè«‹è‘—ä¾¿æœçœ‹å±‹</p>
                </div>
                
                <div class="info-card">
                    <h3>â° å±‹ä¸»ç°½ç´„æ™‚é–“</h3>
                    <div class="schedule-table">
                        <table>
                            <tr><th>æ˜ŸæœŸ</th><th>æ™‚é–“</th></tr>
                            <tr><td>ä¸€ã€äºŒã€å››</td><td>17:30å¾Œ</td></tr>
                            <tr><td>ä¸‰</td><td>å…¨å¤©</td></tr>
                            <tr><td>å…­</td><td>ä¸‹åˆ</td></tr>
                        </table>
                    </div>
                    <p><small>å±‹ä¸»å¯é…åˆç°½ç´„æ™‚é–“</small></p>
                </div>
                
                <div class="info-card">
                    <h3>ğŸ’¡ å‡ºå”®åŸå›  & é‡è¦æé†’</h3>
                    <p><strong>å‡ºå”®åŸå› ï¼š</strong><br>
                    å»ºå•†äº¤æœŸå»¶é²ï¼Œå±‹ä¸»å·²å¦è³¼ä»–è™•å®šå±…ï¼Œç¾é‡‹å‡ºå…©é–“ç‰©ä»¶ã€‚å› è³‡é‡‘éœ€æ±‚ï¼Œä»¥ä¸è™§æç‚ºåº•ç·šæ€¥å”®ã€‚</p>
                    
                    <p style="margin-top: 1rem;"><strong>âš ï¸ é‡è¦æé†’ï¼š</strong><br>
                    â€¢ æ–¡æ—‹ç‚ºå„ªå…ˆé †ä½<br>
                    â€¢ è«‹å¯©æ ¸è²·æ–¹è‡ªå‚™æ¢ä»¶<br>
                    â€¢ ä¸å£“ä¿è²¸<br>
                    â€¢ è³ éŒ¢å°±ä¸è³£ï¼Œæœ‰è‡ªä½è²·æ–¹</p>
                </div>
            </div>
        </section>
        
        <section class="contact-section">
            <h2>ğŸ“ ç«‹å³è¯çµ¡</h2>
            <p style="font-size: 1.2rem; margin: 1rem 0;">æœ‰éŒ¢å¤§å®¶ä¸€èµ·è³ºï¼ç«åŠ›å»£ç™¼ï¼Œæ¶å…ˆæˆäº¤ï¼</p>
            
            <a href="tel:0928776755" class="contact-button">
                ğŸ“± 0928-776-755 è”¡å…ˆç”Ÿ
            </a>
            
            <a href="tel:0925666597" class="contact-button">
                ğŸ“± 0925-666-597 åŠ‰å°å§
            </a>
            
            <div style="margin-top: 2rem;">
                <h3>ğŸ“ ç›¸é—œè³‡æ–™é€£çµ</h3>
                <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 0.4rem; margin: 0.5rem 0;">
                    <a href="https://reurl.cc/bmbY9v" class="contact-button" target="_blank">ç‰©ä»¶ç…§ç‰‡è³‡æ–™</a>
                    <a href="https://reurl.cc/0Wbd1l" class="contact-button" target="_blank">ç¤¾å€å ±å‘Š</a>
                </div>
                <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 0.4rem; margin: 0.5rem 0;">
                    <a href="https://reurl.cc/Y35qeD" class="contact-button" target="_blank">å¯¦åƒ¹ç™»éŒ„(1398è¬)</a>
                    <a href="https://reurl.cc/yAbv7D" class="contact-button" target="_blank">å¯¦åƒ¹ç™»éŒ„(1568è¬)</a>
                </div>
                <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 0.4rem; margin: 0.5rem 0;">
                    <a href="https://reurl.cc/gYb6Db" class="contact-button" target="_blank">æ¥Šæ¢…æˆ¿å¸‚æ¦‚æ³</a>
                </div>
            </div>
            
            <div style="margin-top: 2rem; padding: 2rem; background: rgba(255,255,255,0.1); border-radius: 15px;">
                <h3 style="text-align: center; margin-bottom: 1.5rem; font-size: 1.3rem;">ğŸ“‹ é…æ¡ˆæµç¨‹</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; text-align: center;">
                    <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 10px; backdrop-filter: blur(5px);">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">1ï¸âƒ£</div>
                        <strong>å¡«å¯«é…æ¡ˆå–®</strong><br>
                        <small>å…©é–“åœ°å€+åç‰‡</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 10px; backdrop-filter: blur(5px);">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">2ï¸âƒ£</div>
                        <strong>å›å‚³ç¢ºèª</strong><br>
                        <small>ç­‰å¾…å¯©æ ¸é€šé</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 10px; backdrop-filter: blur(5px);">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">3ï¸âƒ£</div>
                        <strong>ç™»è¨˜å€Ÿå–é‘°åŒ™</strong><br>
                        <small>ä½å•†æ¥Šæ¢…å¤§é †åº—</small>
                    </div>
                    <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 10px; backdrop-filter: blur(5px);">
                        <div style="font-size: 2rem; margin-bottom: 0.5rem;">4ï¸âƒ£</div>
                        <strong>å¸¶çœ‹æˆäº¤</strong><br>
                        <small>ç«åŠ›å…¨é–‹æ¶å…ˆæˆäº¤</small>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- è²¸æ¬¾è¨ˆç®—å™¨å½ˆè·³è¦–çª— -->
    <div id="loanModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ğŸ’° è²¸æ¬¾è©¦ç®—å·¥å…·</h2>
                <span class="close" onclick="closeLoanCalculator()">&times;</span>
            </div>
            <div class="modal-body">
                <form class="calculator-form" onsubmit="calculateLoan(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="propertyPrice">æˆ¿å±‹ç¸½åƒ¹ (è¬å…ƒ)</label>
                            <input type="number" id="propertyPrice" name="propertyPrice" required>
                        </div>
                        <div class="form-group">
                            <label for="loanRate">è²¸æ¬¾æˆæ•¸ (%)</label>
                            <select id="loanRate" name="loanRate" required>
                                <option value="75">75% (ä¸€èˆ¬é¦–è³¼)</option>
                                <option value="80">80% (ä¸€èˆ¬ä½å®…)</option>
                                <option value="85">85% (å„ªè³ªå®¢æˆ¶)</option>
                                <option value="80">80% (æ–°é’å®‰æœ€é«˜)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="interestRate">å¹´åˆ©ç‡ (%)</label>
                            <select id="interestRate" name="interestRate" required>
                                <option value="1.775">1.775% (æ–°é’å®‰ä¸€æ®µå¼)</option>
                                <option value="1.565">1.565% (æ–°é’å®‰äºŒæ®µå¼å‰2å¹´)</option>
                                <option value="1.745">1.745% (æ–°é’å®‰æ··åˆå¼ç¬¬1å¹´)</option>
                                <option value="1.95">1.95% (å„ªè³ªå®¢æˆ¶)</option>
                                <option value="2.06">2.06% (ä¸€èˆ¬å„ªæƒ åˆ©ç‡)</option>
                                <option value="2.15">2.15% (ä¸€èˆ¬åˆ©ç‡)</option>
                                <option value="2.25">2.25% (è¼ƒé«˜åˆ©ç‡)</option>
                                <option value="2.35">2.35% (é«˜é¢¨éšªåˆ©ç‡)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="loanYears">è²¸æ¬¾å¹´æœŸ</label>
                            <select id="loanYears" name="loanYears" required>
                                <option value="20">20å¹´</option>
                                <option value="25">25å¹´</option>
                                <option value="30">30å¹´</option>
                                <option value="40">40å¹´ (æ–°é’å®‰)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="gracePeriod">å¯¬é™æœŸ (å¹´)</label>
                            <select id="gracePeriod" name="gracePeriod" required>
                                <option value="0">ç„¡å¯¬é™æœŸ</option>
                                <option value="1">1å¹´</option>
                                <option value="2">2å¹´</option>
                                <option value="3">3å¹´</option>
                                <option value="5">5å¹´ (æ–°é’å®‰)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="repaymentType">é‚„æ¬¾æ–¹å¼</label>
                            <select id="repaymentType" name="repaymentType" required>
                                <option value="principal_interest">æœ¬æ¯æ”¤é‚„</option>
                                <option value="principal_only">æœ¬é‡‘æ”¤é‚„</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="downPayment">è‡ªå‚™æ¬¾ (è¬å…ƒ)</label>
                            <input type="number" id="downPayment" name="downPayment" readonly>
                        </div>
                        <div class="form-group">
                            <label for="loanAmount">è²¸æ¬¾é‡‘é¡ (è¬å…ƒ)</label>
                            <input type="number" id="loanAmount" name="loanAmount" readonly>
                        </div>
                    </div>
                    
                    <button type="submit" class="calculator-button">
                        ğŸ§® é–‹å§‹è¨ˆç®—
                    </button>
                </form>
                
                <!-- æ–°é’å®‰è²¸æ¬¾èªªæ˜ -->
                <div style="background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%); border-radius: 15px; margin: 1.5rem 0; border-left: 5px solid #27ae60; overflow: hidden;">
                    <div id="newGreenHeader" style="padding: 1rem 1.5rem; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" onclick="toggleNewGreenInfo()">
                        <h4 style="color: #27ae60; margin: 0; font-size: 1.1rem;">ğŸŒ± æ–°é’å®‰è²¸æ¬¾å„ªæƒ æ–¹æ¡ˆ</h4>
                        <span id="newGreenToggle" style="color: #27ae60; font-size: 1.2rem; transition: transform 0.3s ease;">â–¼</span>
                    </div>
                    <div id="newGreenContent" style="padding: 0 1.5rem 1.5rem; display: none;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; font-size: 0.9rem;">
                            <div>
                                <strong>ğŸ“‹ ç”³è«‹æ¢ä»¶ï¼š</strong><br>
                                â€¢ ç”³è«‹æ—¥å‰6å€‹æœˆèµ·è³¼è²·ä½å®…<br>
                                â€¢ å¹´é½¡18æ­²ä»¥ä¸Šä¸”æœªæ»¿40æ­²<br>
                                â€¢ æœ¬äººã€é…å¶åŠæœªæˆå¹´å­å¥³åä¸‹ç„¡è‡ªæœ‰ä½å®…<br>
                                â€¢ å®¶åº­å¹´æ”¶å…¥ä½æ–¼120è¬å…ƒ
                            </div>
                            <div>
                                <strong>ğŸ’° å„ªæƒ å…§å®¹ï¼š</strong><br>
                                â€¢ æœ€é«˜è²¸æ¬¾é¡åº¦ï¼š1,000è¬å…ƒ<br>
                                â€¢ æœ€é«˜è²¸æ¬¾æˆæ•¸ï¼š8æˆ<br>
                                â€¢ æœ€é•·è²¸æ¬¾å¹´é™ï¼š40å¹´<br>
                                â€¢ æœ€é•·å¯¬é™æœŸï¼š5å¹´<br>
                                â€¢ è¶…ä½åˆ©ç‡ï¼š1.775%èµ·
                            </div>
                        </div>
                    </div>
                </div>

                <div id="resultsSection" class="results-section" style="display: none;">
                    <h3 style="color: #27ae60; margin-bottom: 1rem;">ğŸ“Š è¨ˆç®—çµæœ</h3>
                    <div class="results-grid">
                        <div class="result-item">
                            <div class="result-value" id="monthlyPayment">--</div>
                            <div class="result-label">æ¯æœˆé‚„æ¬¾é‡‘é¡</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="gracePeriodPayment">--</div>
                            <div class="result-label">å¯¬é™æœŸæœˆä»˜</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="totalInterest">--</div>
                            <div class="result-label">ç¸½åˆ©æ¯æ”¯å‡º</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="totalPayment">--</div>
                            <div class="result-label">ç¸½é‚„æ¬¾é‡‘é¡</div>
                        </div>
                    </div>
                    
                    <div class="results-grid" style="margin-top: 1rem;">
                        <div class="result-item">
                            <div class="result-value" id="downPaymentAmount">--</div>
                            <div class="result-label">è‡ªå‚™æ¬¾é‡‘é¡</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="displayLoanAmount">--</div>
                            <div class="result-label">è²¸æ¬¾é‡‘é¡</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="debtRatio">--</div>
                            <div class="result-label">è² å‚µæ”¶å…¥æ¯”</div>
                        </div>
                        <div class="result-item">
                            <div class="result-value" id="displayInterestRate">--</div>
                            <div class="result-label">å¹´åˆ©ç‡</div>
                        </div>
                    </div>
                    
                    <!-- è©³ç´°é‚„æ¬¾è¨ˆåŠƒ -->
                    <div style="background: #fff5f5; padding: 1.5rem; border-radius: 15px; margin-top: 1.5rem; border-left: 5px solid #e74c3c;">
                        <h4 style="color: #e74c3c; margin-bottom: 1rem;">ğŸ“… é‚„æ¬¾è¨ˆåŠƒè©³æƒ…</h4>
                        <div id="repaymentSchedule" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <!-- å‹•æ…‹ç”Ÿæˆé‚„æ¬¾è¨ˆåŠƒ -->
                        </div>
                    </div>
                    
                    <div style="background: #e8f4fd; padding: 1rem; border-radius: 10px; margin-top: 1rem; border-left: 4px solid #3498db;">
                        <h4 style="color: #2c3e50; margin-bottom: 0.5rem;">ğŸ’¡ è²¸æ¬¾å»ºè­°</h4>
                        <p id="loanAdvice" style="font-size: 0.9rem; margin: 0; color: #34495e;"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // è²¸æ¬¾è¨ˆç®—å™¨åŠŸèƒ½
        function openLoanCalculator(price, propertyType) {
            const modal = document.getElementById('loanModal');
            const propertyPriceInput = document.getElementById('propertyPrice');
            const resultsSection = document.getElementById('resultsSection');
            
            // è¨­ç½®é è¨­åƒ¹æ ¼
            propertyPriceInput.value = price;
            
            // éš±è—çµæœå€åŸŸ
            resultsSection.style.display = 'none';
            
            // é¡¯ç¤ºå½ˆè·³è¦–çª—
            modal.classList.add('show');
            
            // è‡ªå‹•è¨ˆç®—è‡ªå‚™æ¬¾å’Œè²¸æ¬¾é‡‘é¡
            updateLoanAmounts();
            
            // ç¶å®šè¼¸å…¥è®ŠåŒ–äº‹ä»¶
            propertyPriceInput.addEventListener('input', updateLoanAmounts);
            document.getElementById('loanRate').addEventListener('change', updateLoanAmounts);
            document.getElementById('loanYears').addEventListener('change', smartRecommendation);
        }
        
        function closeLoanCalculator() {
            const modal = document.getElementById('loanModal');
            modal.classList.remove('show');
        }
        
        function updateLoanAmounts() {
            const propertyPrice = parseFloat(document.getElementById('propertyPrice').value) || 0;
            const loanRate = parseFloat(document.getElementById('loanRate').value) || 80;
            
            const downPayment = propertyPrice * (100 - loanRate) / 100;
            const loanAmount = propertyPrice * loanRate / 100;
            
            document.getElementById('downPayment').value = Math.round(downPayment);
            document.getElementById('loanAmount').value = Math.round(loanAmount);
        }
        
        function smartRecommendation() {
            const loanYears = parseInt(document.getElementById('loanYears').value);
            const interestRateSelect = document.getElementById('interestRate');
            const loanRateSelect = document.getElementById('loanRate');
            const gracePeriodSelect = document.getElementById('gracePeriod');
            
            // å¦‚æœé¸æ“‡40å¹´è²¸æ¬¾ï¼Œè‡ªå‹•æ¨è–¦æ–°é’å®‰é¸é …
            if (loanYears === 40) {
                // æ¨è–¦æ–°é’å®‰ä¸€æ®µå¼åˆ©ç‡
                interestRateSelect.value = '1.775';
                // æ¨è–¦æ–°é’å®‰æœ€é«˜è²¸æ¬¾æˆæ•¸
                loanRateSelect.value = '80';
                // æ¨è–¦æ–°é’å®‰5å¹´å¯¬é™æœŸ
                gracePeriodSelect.value = '5';
                
                // é¡¯ç¤ºæ¨è–¦æç¤º
                showRecommendationToast('å·²è‡ªå‹•é¸æ“‡æ–°é’å®‰æ–¹æ¡ˆï¼š1.775%åˆ©ç‡ + 5å¹´å¯¬é™æœŸ');
            } else if (loanYears >= 30) {
                // 30å¹´è²¸æ¬¾æ¨è–¦3å¹´å¯¬é™æœŸ
                gracePeriodSelect.value = '3';
                showRecommendationToast('å·²æ¨è–¦3å¹´å¯¬é™æœŸï¼Œæ¸›è¼•åˆæœŸè² æ“”');
            } else if (loanYears >= 25) {
                // 25å¹´è²¸æ¬¾æ¨è–¦2å¹´å¯¬é™æœŸ
                gracePeriodSelect.value = '2';
                showRecommendationToast('å·²æ¨è–¦2å¹´å¯¬é™æœŸ');
            }
        }
        
        function showRecommendationToast(message) {
            // å‰µå»ºæç¤ºæ¡†
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(45deg, #27ae60, #2ecc71);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                z-index: 1001;
                font-weight: bold;
                animation: slideInRight 0.3s ease;
            `;
            toast.textContent = message;
            
            // æ·»åŠ å‹•ç•«æ¨£å¼
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideInRight {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(toast);
            
            // 3ç§’å¾Œè‡ªå‹•ç§»é™¤
            setTimeout(() => {
                toast.style.animation = 'slideInRight 0.3s ease reverse';
                setTimeout(() => {
                    document.body.removeChild(toast);
                    document.head.removeChild(style);
                }, 300);
            }, 3000);
        }
        
        function calculateLoan(event) {
            event.preventDefault();
            
            const propertyPrice = parseFloat(document.getElementById('propertyPrice').value);
            const loanRate = parseFloat(document.getElementById('loanRate').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const loanYears = parseInt(document.getElementById('loanYears').value);
            const gracePeriod = parseInt(document.getElementById('gracePeriod').value);
            const repaymentType = document.getElementById('repaymentType').value;
            
            // èª¿è©¦ä¿¡æ¯
            console.log('è¼¸å…¥åƒæ•¸:', {
                propertyPrice: propertyPrice,
                loanRate: loanRate,
                interestRate: interestRate,
                loanYears: loanYears,
                gracePeriod: gracePeriod,
                repaymentType: repaymentType
            });
            
            const loanAmount = propertyPrice * loanRate / 100;
            const downPayment = propertyPrice - loanAmount;
            const monthlyRate = interestRate / 100 / 12;
            const totalMonths = loanYears * 12;
            const gracePeriodMonths = gracePeriod * 12;
            const actualRepaymentMonths = totalMonths - gracePeriodMonths;
            
            console.log('è¨ˆç®—åƒæ•¸:', {
                loanAmount: loanAmount,
                downPayment: downPayment,
                monthlyRate: monthlyRate,
                totalMonths: totalMonths,
                gracePeriodMonths: gracePeriodMonths,
                actualRepaymentMonths: actualRepaymentMonths
            });
            
            let monthlyPayment = 0;
            let gracePeriodPayment = 0;
            let totalPayment = 0;
            let totalInterest = 0;
            
            if (gracePeriod > 0) {
                // å¯¬é™æœŸå…§åªä»˜åˆ©æ¯
                gracePeriodPayment = loanAmount * monthlyRate;
                
                if (repaymentType === 'principal_interest') {
                    // å¯¬é™æœŸå¾Œæœ¬æ¯æ”¤é‚„
                    monthlyPayment = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, actualRepaymentMonths) / 
                                   (Math.pow(1 + monthlyRate, actualRepaymentMonths) - 1);
                } else {
                    // å¯¬é™æœŸå¾Œæœ¬é‡‘æ”¤é‚„ - ä¿®æ­£è¨ˆç®—
                    const principalPayment = loanAmount / actualRepaymentMonths;
                    // æœ¬é‡‘æ”¤é‚„ç¬¬ä¸€å€‹æœˆæœ€é«˜ï¼Œä¹‹å¾Œéæ¸›
                    monthlyPayment = principalPayment + (loanAmount * monthlyRate);
                }
                
                // è¨ˆç®—ç¸½åˆ©æ¯
                const gracePeriodInterest = gracePeriodPayment * gracePeriodMonths;
                const repaymentInterest = calculateRepaymentInterest(loanAmount, monthlyRate, actualRepaymentMonths, repaymentType);
                totalInterest = gracePeriodInterest + repaymentInterest;
                
                totalPayment = loanAmount + totalInterest;
                
            } else {
                // ç„¡å¯¬é™æœŸ
                gracePeriodPayment = 0;
                
                if (repaymentType === 'principal_interest') {
                    // æœ¬æ¯æ”¤é‚„
                    monthlyPayment = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, totalMonths) / 
                                   (Math.pow(1 + monthlyRate, totalMonths) - 1);
                    totalPayment = monthlyPayment * totalMonths;
                    totalInterest = totalPayment - loanAmount;
                } else {
                    // æœ¬é‡‘æ”¤é‚„ - ä¿®æ­£è¨ˆç®—
                    const principalPayment = loanAmount / totalMonths;
                    monthlyPayment = principalPayment + (loanAmount * monthlyRate);
                    // æœ¬é‡‘æ”¤é‚„çš„ç¸½åˆ©æ¯éœ€è¦ç²¾ç¢ºè¨ˆç®—
                    totalInterest = calculatePrincipalInterest(loanAmount, monthlyRate, totalMonths);
                    totalPayment = loanAmount + totalInterest;
                }
            }
            
            // å‡è¨­æœˆæ”¶å…¥è¨ˆç®—è² å‚µæ”¶å…¥æ¯” (ä¸€èˆ¬å»ºè­°ä¸è¶…é40%)
            const estimatedIncome = monthlyPayment / 0.35; // å‡è¨­æœˆä»˜ä½”æ”¶å…¥çš„35%
            const debtRatio = (monthlyPayment / estimatedIncome * 100).toFixed(1);
            
            // æ›´æ–°é¡¯ç¤ºçµæœ - ä½¿ç”¨æ–°çš„ID
            try {
                // æª¢æŸ¥æ‰€æœ‰å…ƒç´ æ˜¯å¦å­˜åœ¨
                const elements = {
                    monthlyPayment: document.getElementById('monthlyPayment'),
                    gracePeriodPayment: document.getElementById('gracePeriodPayment'),
                    totalInterest: document.getElementById('totalInterest'),
                    totalPayment: document.getElementById('totalPayment'),
                    downPaymentAmount: document.getElementById('downPaymentAmount'),
                    displayLoanAmount: document.getElementById('displayLoanAmount'),
                    debtRatio: document.getElementById('debtRatio'),
                    displayInterestRate: document.getElementById('displayInterestRate')
                };
                
                console.log('å…ƒç´ æª¢æŸ¥:', elements);
                
                // æœˆä»˜é‡‘é¡é¡¯ç¤ºï¼ˆå…ƒï¼‰
                if (elements.monthlyPayment) {
                    elements.monthlyPayment.textContent = Math.round(monthlyPayment).toLocaleString() + ' å…ƒ';
                    console.log('æœˆä»˜é‡‘é¡å·²æ›´æ–°:', Math.round(monthlyPayment).toLocaleString() + ' å…ƒ');
                } else {
                    console.error('æ‰¾ä¸åˆ° monthlyPayment å…ƒç´ ');
                }
                
                if (elements.gracePeriodPayment) {
                    elements.gracePeriodPayment.textContent = gracePeriod > 0 ? Math.round(gracePeriodPayment).toLocaleString() + ' å…ƒ' : '--';
                }
                
                // è¬å…ƒé‡‘é¡é¡¯ç¤º
                if (elements.totalInterest) {
                    elements.totalInterest.textContent = Math.round(totalInterest / 10000).toLocaleString() + ' è¬å…ƒ';
                }
                
                if (elements.totalPayment) {
                    elements.totalPayment.textContent = Math.round(totalPayment / 10000).toLocaleString() + ' è¬å…ƒ';
                }
                
                if (elements.downPaymentAmount) {
                    elements.downPaymentAmount.textContent = Math.round(downPayment / 10000).toLocaleString() + ' è¬å…ƒ';
                }
                
                if (elements.displayLoanAmount) {
                    elements.displayLoanAmount.textContent = Math.round(loanAmount / 10000).toLocaleString() + ' è¬å…ƒ';
                }
                
                // ç™¾åˆ†æ¯”é¡¯ç¤º
                if (elements.debtRatio) {
                    elements.debtRatio.textContent = debtRatio + '%';
                }
                
                if (elements.displayInterestRate) {
                    elements.displayInterestRate.textContent = interestRate.toFixed(2) + '%';
                }
                
                console.log('æœ€çµ‚è¨ˆç®—çµæœ:', {
                    monthlyPayment: monthlyPayment,
                    totalInterest: totalInterest,
                    totalPayment: totalPayment,
                    loanAmount: loanAmount,
                    downPayment: downPayment,
                    gracePeriodPayment: gracePeriodPayment
                });
            } catch (error) {
                console.error('æ›´æ–°é¡¯ç¤ºçµæœæ™‚ç™¼ç”ŸéŒ¯èª¤:', error);
            }
            
            // ç”Ÿæˆè©³ç´°é‚„æ¬¾è¨ˆåŠƒ
            generateRepaymentSchedule(loanAmount, monthlyRate, gracePeriodMonths, actualRepaymentMonths, repaymentType);
            
            // ç”Ÿæˆè²¸æ¬¾å»ºè­°
            generateLoanAdvice(monthlyPayment, totalInterest, debtRatio, loanAmount, gracePeriod, repaymentType);
            
            // é¡¯ç¤ºçµæœå€åŸŸ
            const resultsSection = document.getElementById('resultsSection');
            if (resultsSection) {
                resultsSection.style.display = 'block';
                console.log('çµæœå€åŸŸå·²é¡¯ç¤º');
                
                // æ»¾å‹•åˆ°çµæœå€åŸŸ
                resultsSection.scrollIntoView({ behavior: 'smooth' });
            } else {
                console.error('æ‰¾ä¸åˆ° resultsSection å…ƒç´ ');
            }
        }
        
        function formatCurrency(amount, showUnit = false) {
            if (isNaN(amount) || amount === null || amount === undefined) {
                return '0';
            }
            
            if (amount >= 10000) {
                // è¬å…ƒä»¥ä¸Šçš„æ•¸å­—ï¼Œé¡¯ç¤ºç‚ºè¬
                const result = (Math.round(amount / 10000 * 100) / 100).toLocaleString();
                return showUnit ? result + ' è¬' : result;
            } else {
                // è¬å…ƒä»¥ä¸‹çš„æ•¸å­—ï¼Œé¡¯ç¤ºåƒåˆ†ä½
                return Math.round(amount).toLocaleString();
            }
        }
        
        function generateRepaymentSchedule(loanAmount, monthlyRate, gracePeriodMonths, actualRepaymentMonths, repaymentType) {
            const scheduleElement = document.getElementById('repaymentSchedule');
            let scheduleHTML = '';
            
            // å¯¬é™æœŸéšæ®µ
            if (gracePeriodMonths > 0) {
                const gracePeriodPayment = loanAmount * monthlyRate;
                    scheduleHTML += `
                        <div style="background: #e8f5e8; padding: 1rem; border-radius: 10px; text-align: center;">
                            <h5 style="color: #27ae60; margin: 0 0 0.5rem 0;">å¯¬é™æœŸ ${gracePeriodMonths} å€‹æœˆ</h5>
                            <div style="font-size: 1.2rem; font-weight: bold; color: #27ae60;">
                                ${Math.round(gracePeriodPayment).toLocaleString()} å…ƒ/æœˆ
                            </div>
                            <div style="font-size: 0.9rem; color: #7f8c8d; margin-top: 0.5rem;">
                                åªä»˜åˆ©æ¯
                            </div>
                        </div>
                    `;
            }
            
            // æ­£å¼é‚„æ¬¾éšæ®µ
            if (actualRepaymentMonths > 0) {
                let repaymentPayment;
                if (repaymentType === 'principal_interest') {
                    // æœ¬æ¯æ”¤é‚„
                    repaymentPayment = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, actualRepaymentMonths) / 
                                     (Math.pow(1 + monthlyRate, actualRepaymentMonths) - 1);
                    scheduleHTML += `
                        <div style="background: #fff3cd; padding: 1rem; border-radius: 10px; text-align: center;">
                            <h5 style="color: #856404; margin: 0 0 0.5rem 0;">æ­£å¼é‚„æ¬¾ ${actualRepaymentMonths} å€‹æœˆ</h5>
                            <div style="font-size: 1.2rem; font-weight: bold; color: #856404;">
                                ${Math.round(repaymentPayment).toLocaleString()} å…ƒ/æœˆ
                            </div>
                            <div style="font-size: 0.9rem; color: #7f8c8d; margin-top: 0.5rem;">
                                æœ¬æ¯æ”¤é‚„ (å›ºå®š)
                            </div>
                        </div>
                    `;
                } else {
                    // æœ¬é‡‘æ”¤é‚„ - é¡¯ç¤ºç¬¬ä¸€å€‹æœˆå’Œæœ€å¾Œä¸€å€‹æœˆ
                    const principalPayment = loanAmount / actualRepaymentMonths;
                    const firstMonthPayment = principalPayment + (loanAmount * monthlyRate);
                    const lastMonthPayment = principalPayment + (principalPayment * monthlyRate);
                    
                    scheduleHTML += `
                        <div style="background: #fff3cd; padding: 1rem; border-radius: 10px; text-align: center;">
                            <h5 style="color: #856404; margin: 0 0 0.5rem 0;">æ­£å¼é‚„æ¬¾ ${actualRepaymentMonths} å€‹æœˆ</h5>
                            <div style="font-size: 1rem; font-weight: bold; color: #856404;">
                                é¦–æœˆ: ${Math.round(firstMonthPayment).toLocaleString()} å…ƒ<br>
                                æœ«æœˆ: ${Math.round(lastMonthPayment).toLocaleString()} å…ƒ
                            </div>
                            <div style="font-size: 0.9rem; color: #7f8c8d; margin-top: 0.5rem;">
                                æœ¬é‡‘æ”¤é‚„ (éæ¸›)
                            </div>
                        </div>
                    `;
                }
            }
            
            // ç¸½è¦½
            const totalMonths = gracePeriodMonths + actualRepaymentMonths;
            scheduleHTML += `
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px; text-align: center; border: 2px solid #6c757d;">
                    <h5 style="color: #495057; margin: 0 0 0.5rem 0;">è²¸æ¬¾ç¸½è¦½</h5>
                    <div style="font-size: 1rem; color: #495057;">
                        ç¸½æœŸæ•¸: ${totalMonths} å€‹æœˆ<br>
                        è²¸æ¬¾é‡‘é¡: ${Math.round(loanAmount / 10000).toLocaleString()} è¬å…ƒ
                    </div>
                </div>
            `;
            
            scheduleElement.innerHTML = scheduleHTML;
        }
        
        function calculatePrincipalInterest(principal, monthlyRate, months) {
            let totalInterest = 0;
            let remainingPrincipal = principal;
            const monthlyPrincipal = principal / months;
            
            for (let i = 0; i < months; i++) {
                const monthlyInterest = remainingPrincipal * monthlyRate;
                totalInterest += monthlyInterest;
                remainingPrincipal -= monthlyPrincipal;
            }
            
            return totalInterest;
        }
        
        function calculateRepaymentInterest(principal, monthlyRate, months, repaymentType) {
            if (repaymentType === 'principal_interest') {
                // æœ¬æ¯æ”¤é‚„çš„ç¸½åˆ©æ¯
                const monthlyPayment = principal * monthlyRate * Math.pow(1 + monthlyRate, months) / 
                                     (Math.pow(1 + monthlyRate, months) - 1);
                return (monthlyPayment * months) - principal;
            } else {
                // æœ¬é‡‘æ”¤é‚„çš„ç¸½åˆ©æ¯ - ä½¿ç”¨æ–°çš„ç²¾ç¢ºè¨ˆç®—å‡½æ•¸
                return calculatePrincipalInterest(principal, monthlyRate, months);
            }
        }
        
        function generateLoanAdvice(monthlyPayment, totalInterest, debtRatio, loanAmount, gracePeriod = 0, repaymentType = 'principal_interest') {
            const adviceElement = document.getElementById('loanAdvice');
            const loanYears = parseInt(document.getElementById('loanYears').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const loanRate = parseFloat(document.getElementById('loanRate').value);
            
            let advice = '';
            
            // æª¢æŸ¥æ˜¯å¦ç‚ºæ–°é’å®‰è²¸æ¬¾
            const isNewGreenLoan = loanYears === 40 && interestRate <= 1.775;
            
            if (isNewGreenLoan) {
                advice += 'ğŸŒ± <strong>æ–°é’å®‰è²¸æ¬¾å„ªå‹¢ï¼š</strong><br>';
                advice += 'âœ… è¶…ä½åˆ©ç‡1.775%ï¼Œå¤§å¹…é™ä½è³¼å±‹è² æ“”<br>';
                advice += 'âœ… 40å¹´è²¸æ¬¾æœŸï¼Œæœˆä»˜é‡‘é¡æ›´è¼•é¬†<br>';
                advice += 'âœ… æœ€é«˜1000è¬é¡åº¦ï¼Œé¦–è³¼æ—é¦–é¸<br>';
                if (gracePeriod > 0) {
                    advice += 'âœ… æœ€é•·5å¹´å¯¬é™æœŸï¼ŒåˆæœŸè² æ“”æ›´è¼•<br>';
                }
                advice += '<br>';
            }
            
            // å¯¬é™æœŸå»ºè­°
            if (gracePeriod > 0) {
                advice += 'â° <strong>å¯¬é™æœŸå„ªå‹¢ï¼š</strong><br>';
                advice += 'âœ… åˆæœŸåªä»˜åˆ©æ¯ï¼Œç¾é‡‘æµå£“åŠ›è¼ƒå°<br>';
                advice += 'âš ï¸ å¯¬é™æœŸå¾Œæœˆä»˜é‡‘é¡æœƒå¢åŠ ï¼Œéœ€æå‰æº–å‚™<br>';
                advice += 'ğŸ’¡ é©åˆæ”¶å…¥é æœŸæˆé•·çš„è³¼å±‹è€…<br><br>';
            }
            
            // é‚„æ¬¾æ–¹å¼å»ºè­°
            if (repaymentType === 'principal_interest') {
                advice += 'ğŸ“Š <strong>æœ¬æ¯æ”¤é‚„ï¼š</strong><br>';
                advice += 'âœ… æœˆä»˜é‡‘é¡å›ºå®šï¼Œä¾¿æ–¼è²¡å‹™è¦åŠƒ<br>';
                advice += 'âœ… åˆæœŸè² æ“”è¼ƒæœ¬é‡‘æ”¤é‚„è¼•<br><br>';
            } else {
                advice += 'ğŸ“Š <strong>æœ¬é‡‘æ”¤é‚„ï¼š</strong><br>';
                advice += 'âœ… ç¸½åˆ©æ¯æ”¯å‡ºè¼ƒå°‘<br>';
                advice += 'âš ï¸ åˆæœŸæœˆä»˜é‡‘é¡è¼ƒé«˜<br>';
                advice += 'ğŸ’¡ é©åˆæ”¶å…¥ç©©å®šä¸”è¼ƒé«˜çš„è³¼å±‹è€…<br><br>';
            }
            
            // è²¸æ¬¾æˆæ•¸å»ºè­°
            if (loanRate <= 75) {
                advice += 'âœ… è²¸æ¬¾æˆæ•¸75%ï¼Œè‡ªå‚™æ¬¾å……è¶³ï¼Œå¯©æ ¸é€šéç‡é«˜<br>';
            } else if (loanRate <= 80) {
                advice += 'âœ… è²¸æ¬¾æˆæ•¸80%ï¼Œä¸€èˆ¬ä½å®…æ¨™æº–ï¼Œæ¢ä»¶è‰¯å¥½<br>';
            } else {
                advice += 'âš ï¸ è²¸æ¬¾æˆæ•¸85%ï¼Œéœ€æä¾›å®Œæ•´è²¡åŠ›è­‰æ˜<br>';
            }
            
            // æ ¹æ“šæœˆä»˜é‡‘é¡çµ¦å»ºè­°
            if (monthlyPayment < 30000) {
                advice += 'âœ… æœˆä»˜é‡‘é¡åˆç†ï¼Œè² æ“”è¼ƒè¼•ã€‚<br>';
            } else if (monthlyPayment < 50000) {
                advice += 'âš ï¸ æœˆä»˜é‡‘é¡ä¸­ç­‰ï¼Œå»ºè­°ç¢ºèªæ”¶å…¥ç©©å®šæ€§ã€‚<br>';
            } else {
                advice += 'ğŸ”´ æœˆä»˜é‡‘é¡è¼ƒé«˜ï¼Œå»ºè­°è©³ç´°è©•ä¼°è²¡å‹™ç‹€æ³ã€‚<br>';
            }
            
            // æ ¹æ“šè² å‚µæ”¶å…¥æ¯”çµ¦å»ºè­°
            if (debtRatio < 30) {
                advice += 'âœ… è² å‚µæ”¶å…¥æ¯”è‰¯å¥½ï¼Œè²¸æ¬¾æ¢ä»¶ä½³ã€‚<br>';
            } else if (debtRatio < 40) {
                advice += 'âš ï¸ è² å‚µæ”¶å…¥æ¯”æ¥è¿‘è­¦æˆ’ç·šï¼Œå»ºè­°è¬¹æ…è©•ä¼°ã€‚<br>';
            } else {
                advice += 'ğŸ”´ è² å‚µæ”¶å…¥æ¯”éé«˜ï¼Œå»ºè­°å¢åŠ è‡ªå‚™æ¬¾æˆ–å»¶é•·è²¸æ¬¾æœŸé™ã€‚<br>';
            }
            
            // æ ¹æ“šè²¸æ¬¾é‡‘é¡çµ¦å»ºè­°
            if (loanAmount < 800) {
                advice += 'âœ… è²¸æ¬¾é‡‘é¡é©ä¸­ï¼ŒéŠ€è¡Œå¯©æ ¸é€šéç‡è¼ƒé«˜ã€‚<br>';
            } else if (loanAmount < 1200) {
                advice += 'âš ï¸ è²¸æ¬¾é‡‘é¡è¼ƒå¤§ï¼Œå»ºè­°æä¾›å®Œæ•´è²¡åŠ›è­‰æ˜ã€‚<br>';
            } else {
                advice += 'ğŸ”´ è²¸æ¬¾é‡‘é¡å¾ˆå¤§ï¼Œå»ºè­°å¤šæº–å‚™è²¡åŠ›è­‰æ˜æˆ–æ“”ä¿å“ã€‚<br>';
            }
            
            // æ–°é’å®‰ç‰¹æ®Šæé†’
            if (isNewGreenLoan) {
                advice += '<br>ğŸŒ± <strong>æ–°é’å®‰ç”³è«‹æé†’ï¼š</strong><br>';
                advice += 'â€¢ éœ€ç¬¦åˆå¹´é½¡é™åˆ¶(18-40æ­²)å’Œé¦–è³¼æ¢ä»¶<br>';
                advice += 'â€¢ å®¶åº­å¹´æ”¶å…¥éœ€ä½æ–¼120è¬å…ƒ<br>';
                advice += 'â€¢ ç”³è«‹æ—¥å‰6å€‹æœˆèµ·è³¼è²·ä½å®…<br>';
            }
            
            advice += '<br>ğŸ’¡ <strong>è²¼å¿ƒæé†’ï¼š</strong>ä»¥ä¸Šç‚ºä¼°ç®—å€¼ï¼Œå¯¦éš›è²¸æ¬¾æ¢ä»¶ä»¥éŠ€è¡Œå¯©æ ¸ç‚ºæº–ã€‚';
            
            adviceElement.innerHTML = advice;
        }
        
        // é»æ“Šå½ˆè·³è¦–çª—å¤–éƒ¨é—œé–‰
        window.onclick = function(event) {
            const modal = document.getElementById('loanModal');
            if (event.target === modal) {
                closeLoanCalculator();
            }
        }
        
        // ESCéµé—œé–‰å½ˆè·³è¦–çª—
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeLoanCalculator();
            }
        });
        
        // æ–°é’å®‰è³‡è¨Šæ”¶åˆåŠŸèƒ½
        function toggleNewGreenInfo() {
            const content = document.getElementById('newGreenContent');
            const toggle = document.getElementById('newGreenToggle');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                toggle.style.transform = 'rotate(180deg)';
                toggle.textContent = 'â–²';
            } else {
                content.style.display = 'none';
                toggle.style.transform = 'rotate(0deg)';
                toggle.textContent = 'â–¼';
            }
        }

        // æ·»åŠ ä¸€äº›äº’å‹•æ•ˆæœ
        document.addEventListener('DOMContentLoaded', function() {
            // æ»¾å‹•å‹•ç•«æ•ˆæœ
            const cards = document.querySelectorAll('.property-card, .info-card');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });
            
            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
            
            // é»æ“ŠæŒ‰éˆ•æ•ˆæœ
            const buttons = document.querySelectorAll('.contact-button, .loan-calc-button');
            buttons.forEach(button => {
                button.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1.05)';
                    }, 100);
                });
            });
        });
    </script>
</body>
</html>